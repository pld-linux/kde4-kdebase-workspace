--- workspace/ksmserver/server.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/ksmserver/server.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -658,6 +658,8 @@
         int i;
         while( (i = display.indexOf(':')) >= 0)
            display[i] = '_';
+        while( (i = display.indexOf('/')) >= 0)
+           display[i] = '_';
 
         fName += '_'+display.toLocal8Bit();
         FILE *f;
@@ -728,6 +730,8 @@
     int i;
     while( (i = display.indexOf(':')) >= 0)
          display[i] = '_';
+    while( (i = display.indexOf('/')) >= 0)
+         display[i] = '_';
 
     fName += '_'+display.toLocal8Bit();
     ::unlink(fName.data());
--- workspace/kcontrol/dateandtime/clock.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kcontrol/dateandtime/clock.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -21,7 +21,7 @@
 Name[bn_IN]=তারিখ ও সময়
 Name[br]=Deiziad hag eur
 Name[ca]=Data i hora
-Name[ca@valencia]=Dia i hora
+Name[ca@valencia]=Data i hora
 Name[cs]=Datum a čas
 Name[csb]=Datum ë czas
 Name[cy]=Dyddiad ac Amser
@@ -47,7 +47,7 @@
 Name[hsb]=Datum & čas
 Name[hu]=Dátum és idő
 Name[id]=Tanggal & Waktu
-Name[is]=Dagssetning og tími
+Name[is]=Dagsetning og tími
 Name[it]=Data e ora
 Name[ja]=日付と時刻
 Name[ka]=თარიღი და დრო
--- workspace/kcontrol/randr/module/randrmonitor.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kcontrol/randr/module/randrmonitor.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -22,6 +22,7 @@
 Name[km]=រកឃើញ​ការ​ផ្លាស់ប្ដូរ RANDR (កម្មវិធី​ត្រួតពិនិត្យ)
 Name[kn]=RANDR(ಮಾನಿಟರ್) ಬದಲಾವಣೆಗಳನ್ನು ಪತ್ತೆಹಚ್ಚುತ್ತಿದೆ
 Name[ko]=RANDR(모니터) 변경 확인 중
+Name[lt]=Aptinkami RANDR (monitoriaus) pasikeitimai
 Name[lv]=Nosaka RANDR (ekrāna) izmaiņas
 Name[mk]=Детекција на RANDR промени (на мониторот)
 Name[ml]=റാന്‍ഡര്‍ (മൊണിറ്റെര്‍) മാറ്റങ്ങള്‍ കണ്ടുപിടിയ്ക്കുന്നു
--- workspace/doc/plasma-desktop/tools/man-plasmaengineexplorer.1.docbook	(.../tags/KDE/4.4.1/kdebase)	(wersja 0)
+++ workspace/doc/plasma-desktop/tools/man-plasmaengineexplorer.1.docbook	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -0,0 +1,127 @@
+<?xml version="1.0" ?>
+<!DOCTYPE refentry PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN" "dtd/kdex.dtd" [
+<!ENTITY % English "INCLUDE">
+]>
+
+<refentry lang="&language;">
+<refentryinfo>
+<title>KDE User's Manual</title>
+<date>Jan 2, 2008</date>
+<productname>K Desktop Environment</productname>
+</refentryinfo>
+
+<refmeta>
+<refentrytitle><command>plasmaengineexplorer</command></refentrytitle>
+<manvolnum>1</manvolnum>
+</refmeta>
+
+<refnamediv>
+<refname><command>plasmaengineexplorer</command></refname>
+<refpurpose>Provides direct access to plasma data engines</refpurpose>
+</refnamediv>
+
+<refsynopsisdiv>
+<cmdsynopsis>
+<command>plasmaengineexplorer</command>
+
+<group choice="opt"><option>--height</option> <replaceable> pixels</replaceable></group>
+<group choice="opt"><option>--width</option> <replaceable> pixels</replaceable></group>
+<group choice="opt"><option>-x</option> <replaceable> pixels</replaceable></group>
+<group choice="opt"><option>-y</option> <replaceable> pixels</replaceable></group>
+<group choice="opt"><option>--engine</option> <replaceable> name</replaceable></group>
+<group choice="opt"><option>--source</option> <replaceable> name</replaceable></group>
+<group choice="opt"><option>--interval</option> <replaceable> ms</replaceable></group>
+
+</cmdsynopsis>
+<cmdsynopsis>
+<command>plasmaengineexplorer</command>
+<arg choice="opt">KDE Generic Options</arg>
+<arg choice="opt">Qt Generic Options</arg>
+</cmdsynopsis>
+</refsynopsisdiv>
+
+<refsect1>
+<title>Description</title>
+<para><command>plasmaengineexplorer</command> is a graphical tool allowing developers to
+test Plasma data engines without writing a Plasma applet.</para>
+
+<para>If no options are given, it will start without any data engine
+selected.  The required data engine can be selected from a drop-down list.</para>
+
+<para>Only installed data engines will be found.
+<command>kbuildsycoca4</command> may need to be run for newly-installed
+data engines to be found.</para>
+</refsect1>
+
+<refsect1>
+<title>Options</title>
+
+<variablelist>
+<varlistentry>
+<term><option>--height <replaceable>pixels</replaceable></option></term>
+<listitem><para>Sets the height of the window, in pixels.</para></listitem>
+</varlistentry>
+<varlistentry>
+<term><option>--width <replaceable>pixels</replaceable></option></term>
+<listitem><para>Sets the width of the window, in pixels.</para></listitem>
+</varlistentry>
+<varlistentry>
+<term><option>-x <replaceable>pixels</replaceable></option></term>
+<listitem><para>Sets the x (horizontal) co-ordinate of the top left corner of the window, in pixels.</para></listitem>
+</varlistentry>
+<varlistentry>
+<term><option>-y <replaceable>pixels</replaceable></option></term>
+<listitem><para>Sets the y (vertical) co-ordinate of the top left corner of the window, in pixels.</para></listitem>
+</varlistentry>
+<varlistentry>
+<term><option>--engine <replaceable>name</replaceable></option></term>
+<listitem><para>Start <command>plasmaengineexplorer</command> with the given data engine
+selected.  <parameter>name</parameter> is the internal name of the data engine given by
+the X-KDE-PluginInfo-Name key of the desktop file.</para></listitem>
+</varlistentry>
+<varlistentry>
+<term><option>--source <replaceable>name</replaceable></option></term>
+<listitem><para>Only valid in conjunction with <option>--engine</option>.
+Requests a specific source from the data engine when
+<command>plasmaengineexplorer</command> is started.</para></listitem>
+</varlistentry>
+<varlistentry>
+<term><option>--interval <replaceable>time</replaceable></option></term>
+<listitem><para>Sets the default update interval for requested sources
+to <parameter>time</parameter> milliseconds.  If not set, the source will update
+on demand (for some sources, this will be when new data is available).</para>
+
+<para>If <option>--source</option> is specified, this is the update interval
+that will be used when requesting that source.</para></listitem>
+</varlistentry>
+
+</variablelist>
+
+</refsect1>
+
+<refsect1>
+<title>See Also</title>
+
+<para>More detailed user documentation is available from <ulink
+url="help:/plasma">help:/plasma</ulink>
+(either enter this <acronym>URL</acronym> into &konqueror;, or run
+<userinput><command>khelpcenter</command>
+<parameter>help:/plasma</parameter></userinput>).</para>
+
+</refsect1>
+
+<refsect1>
+<title>Examples</title>
+<para>Load the time data engine, showing the local time and updating every
+second:</para>
+<screen><userinput><command>plasmaengineexplorer</command> <option>--engine time</option> <option>--source Local</option> <option>--interval 1000</option></userinput></screen>
+
+</refsect1>
+
+<refsect1>
+<title>Authors</title>
+<para><command>plasmaengineexplorer</command> was written by
+<personname><firstname>Aaron</firstname><surname>Seigo</surname></personname> <email>aseigo@kde.org</email>.</para>
+</refsect1>
+
+</refentry>
--- workspace/doc/plasma-desktop/tools/CMakeLists.txt	(.../tags/KDE/4.4.1/kdebase)	(wersja 0)
+++ workspace/doc/plasma-desktop/tools/CMakeLists.txt	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -0,0 +1,5 @@
+########### install files ###############
+#
+
+#
+kde4_create_manpage(man-plasmaengineexplorer.1.docbook 1 INSTALL_DESTINATION ${MAN_INSTALL_DIR})
--- workspace/doc/plasma-desktop/index.docbook	(.../tags/KDE/4.4.1/kdebase)	(wersja 0)
+++ workspace/doc/plasma-desktop/index.docbook	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -0,0 +1,423 @@
+<?xml version="1.0" ?>
+<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.2-Based Variant V1.1//EN" "dtd/kdex.dtd" [
+  <!ENTITY kappname "&plasma;">
+  <!ENTITY package "kde-module">
+  <!ENTITY % addindex "IGNORE">
+  <!ENTITY % English "INCLUDE">
+]>
+<book lang="&language;">
+
+<bookinfo>
+<title>The &plasma; Handbook</title>
+
+<authorgroup>
+<author>
+<personname>
+<firstname>Sebastian</firstname>
+<surname>Kügler</surname>
+</personname>
+<email>sebas@kde.org</email>
+</author>
+<!-- TRANS:ROLES_OF_TRANSLATORS -->
+</authorgroup>
+
+<copyright>
+<year>2008</year>
+<holder>Sebastian Kügler</holder>
+</copyright>
+
+<legalnotice>&FDLNotice;</legalnotice>
+
+<date>2008-06-03</date>
+<releaseinfo>1.01.00</releaseinfo>
+
+<abstract>
+<para>
+&plasma;, the most visible pillar of &kde;, is the core interface to the desktop.
+</para>
+</abstract>
+
+<keywordset>
+<keyword>KDE</keyword>
+<keyword>Plasma</keyword>
+<keyword>Plasmoid</keyword>
+<keyword>Containments</keyword>
+<keyword>Desktop</keyword>
+<keyword>Runner</keyword>
+<keyword>Kicker</keyword>
+</keywordset>
+
+</bookinfo>
+
+<chapter id="introduction">
+<title>Introduction</title>
+
+<para>
+&plasma; is one of the key technologies of &kde; 4 (also known as the
+&quot;Pillars of &kde;&quot;), and one of the most visible to users. As &plasma;
+treats the user interface differently than a traditional desktop, there may be
+confusion on what &plasma; is, what it does, and how to perform common tasks.
+</para>
+
+<para>
+This document attempts to address these problems by providing answers to the
+most common questions.
+</para>
+</chapter>
+
+<chapter id="using-kapp">
+<title>Using &plasma;</title>
+
+<sect1 id="plasmoids-and-containments">
+<title>&plasmoids; and Containments</title>
+
+<para>
+The essence of Plasma revolves around two basic concepts:
+</para>
+
+<variablelist>
+<varlistentry>
+<term>&plasmoids;</term>
+<listitem>
+<para>
+Applets, or small applications that live on the desktop.
+</para>
+</listitem>
+</varlistentry>
+<varlistentry>
+<term>Containments</term>
+<listitem>
+<para>
+Applets that act as the container for the &plasmoids;
+</para>
+</listitem>
+</varlistentry>
+</variablelist>
+
+<para>
+On a default desktop, there are two main elements: the Panel and the Desktop
+itself. Both are containments in the &plasma; sense.
+</para>
+</sect1>
+
+<sect1 id="panel">
+<title>The Panel</title>
+
+<para>
+The default panel holds a few &plasmoids;: starting from the left, there's the
+&kickoff; application launcher. You can use it to start applications, open recently 
+opened files and the usual logout/shutdown options. There's also a structure
+that allows you to browse through your applications. The layout has been
+optimized for the use case that is most common: starting an application. The
+default tab is the <guilabel>Favorites</guilabel> tab that holds the most-used
+entries. In the beginning, you'll probably find yourself using the
+<guilabel>Applications</guilabel> tab more often. 
+Once you have found out what your most frequently started applications are, 
+<mousebutton>right</mousebutton> click on the items and select the
+<guimenuitem>Add to Favorites</guimenuitem> to add them to your
+<guilabel>Favorites</guilabel> (or directly into the panel or on the desktop.
+Note that you need to &quot;unlock&quot; Plasma by means of
+<mousebutton>right</mousebutton> clicking on the desktop for any kind of
+modification). If you prefer &kde;&apos;s traditional menu-style application
+launcher, change it by <mousebutton>right</mousebutton> clicking on the menu
+button and selecting <guimenuitem>Switch to Classic Menu Style</guimenuitem>.
+</para>
+
+<para>
+The next icon (looking like either a desktop computer or a laptop, depending on
+the type of machine) is the <application>Device Notifier</application>. 
+Plug in a <acronym>USB</acronym> disk and a dialog will open that allows you to
+open the device in &dolphin;.
+</para>
+
+<para>
+The next item on your panel is the <application>Pager</application>. 
+It allows you to switch between your virtual desktops. 
+If you change the layout of the <application>Pager</application> 
+through the <guimenuitem>Number of rows</guimenuitem> option, 
+which will also affect the layout and animations that are shown in &kwin;&apos;s
+<guimenuitem>Desktop Grid</guimenuitem> effect -- (Switch on desktop effect,
+press <keycombo action="simul">&Ctrl;<keycap>F8</keycap></keycombo> to see it.)
+For larger pagers, selecting <guimenuitem>Display windows icons</guimenuitem>
+typically makes sense.
+</para>
+
+<para>
+The taskbar is up next on the panel. It shows an area for all open windows on
+all desktops by default. You can make it show all open windows on the current
+desktop only by checking <guimenuitem>Only show tasks from the
+current desktop</guimenuitem> when you right click on the task manager, between
+two windows. The size of the text on the taskbar items can be set
+in &systemsettings; under the
+<menuchoice><guimenu>Appearance</guimenu><guisubmenu>Fonts</guisubmenu>
+<guimenuitem>Taskbar</guimenuitem></menuchoice>. Right-clicking on the taskbar
+brings the Settings dialog where you can choose several options to customize
+your taskbar.
+<screenshot>
+<screeninfo>Here's a screenshot of the taskbar settings dialog</screeninfo>
+  <mediaobject>
+    <imageobject>
+      <imagedata fileref="taskbar-settings.png" format="PNG"/>
+    </imageobject>
+      <textobject>
+      <phrase>Taskbar settings dialog</phrase>
+    </textobject>
+  </mediaobject>
+</screenshot>
+</para>
+
+<para>
+Next on our default panel is the <application>System Tray</application>, which
+is used by traditional applications as a dock. Right clicking on the
+<application>System Tray</application> allows you to hide or show icons.
+</para>
+
+<para>
+The right-most &plasmoid; in the default panel holds the <application>Digital
+Clock</application>.
+This clock can display the time in different timezones as well as have its size
+changed. The clock will adjust its font size to the area it is given by the
+surrounding containment (that is the panel in this case). If you choose to
+display the date, this date will be rendered using the <guimenuitem>Small
+font</guimenuitem> option from the &systemsettings; <guilabel>Font</guilabel>
+dialog. The time will take the rest of the space. So in the end, you'll choose
+yourself the amount of information displayed, and if that fits. If you want to
+display more information, make the panel larger or put the clock on the desktop
+where it can grow freely.
+</para>
+
+</sect1>
+
+<sect1 id="toolboxes">
+<title>The Panel Toolboxes</title>
+
+<para>
+If your desktop is unlocked (you can do that by
+<mousebutton>right</mousebutton> clicking on the desktop, or when no
+application has the focus, with <keycombo
+action="simul">&Ctrl;<keycap>L</keycap></keycombo>),a small &plasma;
+logo will appear in the bottom right corner (it's commonly named the
+&quot;cashew&quot;). Click on this cashew, and the panel controller opens. The
+panel controller allows you to reposition, resize and realign the panel. The
+&plasmoids; living in this panel will adjust their size automatically.
+&plasmoids; have basic knowledge about sizing, provided by the containment. They
+are programmed to take advantage of that size, and inform the applet about how
+much space they possibly need. In the end, the containment gives a possible size
+to the applets, the applets obey.
+</para>
+
+</sect1>
+
+<sect1 id="add-applets">
+<title>Adding Applets</title>
+
+<para>
+Unlock the desktop and you'll be able to add and remove &plasmoids; from panel
+or desktop. You add &plasmoids; by simply dragging them where you want them.
+<mousebutton>Right</mousebutton> click on an applet to remove it. The
+<guilabel>Add Applets</guilabel> dialog also allows you to mark certain applets
+as <guilabel>Favorite</guilabel> so you can find them back more easily.
+
+<screenshot>
+<screeninfo>Favorite Widgets</screeninfo>
+  <mediaobject>
+    <imageobject>
+      <imagedata fileref="favorite-widgets.png" format="PNG"/>
+    </imageobject>
+      <textobject>
+      <phrase>Favorite Widgets</phrase>
+    </textobject>
+  </mediaobject>
+</screenshot>
+
+The <guibutton>Install new widgets</guibutton> button allows you to add widgets
+you've previously downloaded. Currently it supports native &plasmagik; packages
+and &Mac; OSX dashboard widgets. Widgets you install this way can then be
+accessed just like regular, preinstalled widgets.
+</para>
+</sect1>
+
+<sect1 id="desktop">
+<title>The Desktop</title>
+
+<para>
+The desktop is in fact another containment. One that doesn't put size
+constraints on the applets. Applets can be moved and sized freely. On the
+unlocked desktop, &plasmoids; will show a frame when you move the mouse over
+them. This applet handle allows you to move, resize, relocate and realign the
+panel. It also allows you to drag Plasmoids on the desktop. The buttons in the
+corner are used to resize, rotate configure and remove the applet. When
+rotated, a &plasmoid; will act magnetic towards 12 o'clock, so it's easy to get
+them back into sensible position. By default, most applets keep their aspect
+ratio when they are being resized. If you want to freely resize an applet,
+hold the &Ctrl; key pressed while resizing.
+</para>
+
+<para>
+Right clicking on the desktop also offers you to configure aspects such as the
+wallpaper used, and the &plasma; theme. Both actions offer to download new
+wallpapers and themes through &knewstuff;.
+</para>
+
+<para>
+With open applications, it quickly gets hard to see the &plasmoids; on your
+desktop. The <emphasis role="bold">Dashboard</emphasis> gets those &plasmoids;
+in front of you, much like the <guilabel>Show desktop</guilabel> functionality
+you are used to from traditional desktops.
+</para>
+
+</sect1>
+
+<sect1 id="krunner">
+<title>&krunner;</title>
+
+<para>
+&krunner; is a versatile mini command-line. You can use it to start applications,
+open web pages, access bookmarks, search through your desktop data, calculate
+short equations, and many more.Pressing <keycombo
+action="simul">&Alt;<keycap>F2</keycap></keycombo> opens the &krunner; dialog.
+You just start typing and &krunner; will start searching matches as soon as
+you've entered more than two characters. You can open the settings dialog to
+learn about &krunner;&apos;s functionality, provided by plugins. You can
+navigate through the matches using the tab and arrow keys.
+</para>
+
+<para>
+If you want to know what's going on on your system, there's the <guibutton>Show
+System Activity</guibutton> button, giving you quick access to a list of windows
+and processes, with options to monitor their output and kill processes.
+</para>
+
+</sect1>
+
+<sect1 id="zooming-user-interface">
+<title>&quot;Activities&quot; or the &zui; (ZUI)</title>
+
+<para>
+The desktop toolbox, accessed via the top right corner has a button for zooming
+out. &plasma; allows you to have more than one activity. Basically, that is multiple desktop containments hosting multiple sets of &plasmoids;. Zoom out from your current activity, choose <guilabel>Add activity</guilabel> to create a new containment, zoom in to your new containment and customize suiting your taste. &plasma;&apos;s zooming and &kwin;&apos;s desktop grid are similar in that respect, but there is a fundamental difference. While virtual desktop are used to group and organize windows, &plasma;&apos;s activities are used to group and organize plasmoids. This way, you can switch between activities and have relevant &plasmoids; supporting the task you're currently trying to accomplish. You can create a &quot;Free time&quot; activity, with comic strips, a puzzle and other &plasmoids;, and a work activity, with relevant <acronym>RSS</acronym> feeds, calculator and calendar, for example.
+</para>
+
+</sect1>
+
+<sect1 id="shortcuts">
+<title>Shortcuts</title>
+
+<para>
+Most of &plasma;&apos;s functionality is also accessible through keyboard
+shortcuts. Currently, the following default shortcuts can be used:
+</para>
+
+<variablelist>
+<varlistentry>
+<term><keycombo action="simul">&Ctrl;<keycap>A</keycap></keycombo></term>
+<listitem><para>Add widgets</para></listitem>
+</varlistentry>
+
+<varlistentry>
+<term><keycombo action="simul">&Ctrl;<keycap>L</keycap></keycombo></term>
+<listitem><para>Lock widgets</para></listitem>
+</varlistentry>
+
+<varlistentry>
+<term><keycombo action="simul">&Ctrl;<keycap>-</keycap></keycombo></term>
+<listitem><para>Zoom out</para></listitem>
+</varlistentry>
+
+<varlistentry>
+<term><keycombo action="simul">&Ctrl;<keycap>=</keycap></keycombo></term>
+<listitem><para>Zoom in</para></listitem>
+</varlistentry>
+
+<varlistentry>
+<term><keycombo action="simul">&Ctrl;<keycap>N</keycap></keycombo></term>
+<listitem><para>Next applet</para></listitem>
+</varlistentry>
+
+<varlistentry>
+<term><keycombo action="simul">&Ctrl;<keycap>P</keycap></keycombo></term>
+<listitem><para>Previous applet</para></listitem>
+</varlistentry>
+
+<varlistentry>
+<term><keycombo action="simul">&Ctrl;<keycap>]</keycap></keycombo></term>
+<listitem><para>Next containment</para></listitem>
+</varlistentry>
+
+<varlistentry>
+<term><keycombo action="simul">&Ctrl;<keycap>[</keycap></keycombo></term>
+<listitem><para>Previous containment</para></listitem>
+</varlistentry>
+
+<varlistentry>
+<term><keycombo action="simul">&Ctrl;<keycap>S</keycap></keycombo></term>
+<listitem><para>Applet settings</para></listitem>
+</varlistentry>
+
+<varlistentry>
+<term>
+<keycombo action="simul">
+&Shift;&Ctrl;<keycap>S</keycap>
+</keycombo>
+</term>
+<listitem><para>Containment settings</para></listitem>
+</varlistentry>
+
+<varlistentry>
+<term><keycombo action="simul">&Ctrl;<keycap>R</keycap></keycombo></term>
+<listitem><para>Remove applet</para></listitem>
+</varlistentry>
+
+</variablelist>
+
+</sect1>
+
+</chapter>
+
+<chapter id="credits">
+<title>Credits and License</title>
+
+<para>
+&plasma;
+</para>
+<para>
+Program copyright 2008 &Aaron.J.Seigo; &Aaron.J.Seigo.mail;
+</para>
+
+<!-- ADD CONTRIBUTORS AS NEEDED
+<para>
+Contributors:
+<itemizedlist>
+<listitem><para>Konqui the KDE Dragon <email>konqui@kde.org</email></para>
+</listitem>
+<listitem><para>Tux the Linux Penguin <email>tux@linux.org</email></para>
+</listitem>
+</itemizedlist>
+</para>
+-->
+
+<para>
+Documentation Copyright &copy; 2008 Sebastian Kügler <email>sebas@kde.org</email>
+</para>
+
+<!-- TRANS:CREDIT_FOR_TRANSLATORS -->
+
+&underFDL;
+
+</chapter>
+
+&documentation.index;
+</book>
+
+<!--
+Local Variables:
+mode: xml
+sgml-minimize-attributes:nil
+sgml-general-insert-case:lower
+sgml-indent-step:0
+sgml-indent-data:nil
+End:
+
+vim:tabstop=2:shiftwidth=2:expandtab
+kate: space-indent on; indent-width 2; tab-width 2; indent-mode none;
+-->
--- workspace/doc/plasma-desktop/CMakeLists.txt	(.../tags/KDE/4.4.1/kdebase)	(wersja 0)
+++ workspace/doc/plasma-desktop/CMakeLists.txt	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -0,0 +1,6 @@
+########### install files ###############
+#
+#
+kde4_create_handbook(index.docbook INSTALL_DESTINATION ${HTML_INSTALL_DIR}/en)
+
+add_subdirectory(tools)
--- workspace/doc/systemsettings/index.docbook	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/doc/systemsettings/index.docbook	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -102,7 +102,7 @@
 </listitem>
 <listitem>
 <para>
-  By pressing <keycombo>&Alt;<keycap>F2</keycap></keycombo>. This will bring up the <application>KRunner</application> dialog. Type <command>system settings</command>, and click <guibutton>Launch</guibutton>.
+  By pressing <keycombo>&Alt;<keycap>F2</keycap></keycombo>. This will bring up the &krunner; dialog. Type <command>systemsettings</command>, and press &Enter;.
 </para>
 </listitem>
 <listitem>
--- workspace/doc/klipper/index.docbook	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/doc/klipper/index.docbook	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -49,7 +49,7 @@
 <title>Introduction</title>
 <para>&klipper; is the &kde; clipboard utility. It stores clipboard
 history, and allows you to link clipboard contents to application
-actions. Please report any problems or feature requests to<ulink
+actions. Please report any problems or feature requests to <ulink
 url="http://bugs.kde.org">KDEs bugzilla</ulink> or use the "report bug" feature.</para>
 
 </chapter>
@@ -101,8 +101,8 @@
 example, any clipboard contents starting with <quote>http://</quote> can
 be passed to Firefox or &konqueror; as &URL;s to open. In addition, if the 
 contents matches a path, similar actions can be performed according to the file's
-type. E.g, if the path to a pdf file is copied to the clipboard, the file can be 
-view in Okular</para>
+type. E.g, if the path to a <acronym>PDF</acronym> file is copied to the clipboard, the file can be 
+viewed in &okular;.</para>
 
 <para>To use this feature, just select a &URL; or path. <!-- starting with slash ?-->
 If there is a matching regular expression in &klipper;'s
@@ -117,9 +117,9 @@
 disappear, leaving you to continue your work. You can change the time
 that the menu remains for in the <guilabel>Configure Klipper...</guilabel>
 dialog, with the option <guilabel>Timeout for action popups</guilabel>
-under the <guilabel>General</guilabel> tab. You can separately disable the 
+under the <guilabel>General</guilabel> page. You can separately disable the 
 file path part using the option <guilabel>Enable MIME-based actions</guilabel> under
-the <guilabel>Actions</guilabel> tab.</para>
+the <guilabel>Actions</guilabel> page.</para>
   
 <para>Actions can be disabled completely by clicking on &klipper; and
 deselecting <guimenuitem>Actions Enabled</guimenuitem>, or by pressing
@@ -185,7 +185,7 @@
 In order to change clipboard/selection behavior, select
 <guimenuitem>Configure &klipper;...</guimenuitem> from the &klipper; pop-up menu,
 and in the dialog box that appears, select the
-<guilabel>General</guilabel> tab. Unchecking <guilabel>Synchronize contents of the clipboard and the
+<guilabel>General</guilabel> page. Unchecking <guilabel>Synchronize contents of the clipboard and the
 selection</guilabel> makes the clipboard and selection function as completely
 separate buffers as described above. With this option set, the option
 <guilabel>Ignore selection</guilabel> will prevent &klipper; from
@@ -225,7 +225,7 @@
 
 </sect1>
 
-<sect1 id="general-tab">
+<sect1 id="general-page">
 <title>General Options</title>
 
 <variablelist>
@@ -332,16 +332,16 @@
 
 </sect1>
 
-<sect1 id="actions-tab">
+<sect1 id="actions-page">
 <title>Actions Options</title>
 
 <variablelist>
 <varlistentry>
 <term>Editing Expressions/Actions</term>
-<listitem><para>On the <guilabel>Actions</guilabel> tab, double-click
-the regular expression or action that you want to edit. An in-place text editing
-box will appear in which the text can be edited as you wish. Make sure you
-press &Enter; when you are done.</para></listitem>
+<listitem><para>On the <guilabel>Actions</guilabel> page, double-click
+the regular expression or action that you want to edit or select it and 
+press the <guibutton>Edit Action</guibutton> button. A dialog will appear in which the 
+expression text can be edited as you wish.</para></listitem>
 </varlistentry>
 
 <varlistentry>
@@ -362,9 +362,8 @@
 page.</para></note> 
 
 <para>Edit the regular expression as described above. To add a command
-to execute, <mousebutton>right</mousebutton> click, select
-<guimenuitem>Add Command</guimenuitem> and edit the command which
-appears in the tree under the regular expression.</para>
+to execute, click <guimenuitem>Add Command</guimenuitem> and edit the command 
+in an in-place text editing box. Double-clicking on a command allows you to edit it.</para>
 
 <para>Note that <token>%s</token> in the command line is replaced with
 the clipboard contents, &eg; if your command definition is
@@ -401,10 +400,10 @@
 
 </sect1>
 
-<sect1 id="shortcuts-tab">
+<sect1 id="shortcuts-page">
 <title>Shortcuts Options</title>
 
-<para>The shortcuts tab allows you to change the keyboard shortcuts
+<para>The shortcuts page allows you to change the keyboard shortcuts
 which are used to access &klipper; functions. You can change the
 shortcut to one of three things:</para>
 
--- workspace/doc/kdm/index.docbook	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/doc/kdm/index.docbook	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -378,7 +378,7 @@
 in <xref linkend="kdm-files"/>.</para>
 
 <para>The options listed in this chapter are cross referenced with
-their equivalents in &kdmrc;. All options available in the &kcontrol;
+their equivalents in &kdmrc;. All options available in the &systemsettings;
 module are also available directly in &kdmrc; but the reverse is not
 true.</para></note>
 
--- workspace/doc/kdm/kdmrc-ref.docbook	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/doc/kdm/kdmrc-ref.docbook	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -4,7 +4,7 @@
 <title>The Files &kdm; Uses for Configuration</title>
 
 <para>This chapter documents the files that control &kdm;'s behavior.
-Some of this can be also controlled from the &kcontrol; module, but
+Some of this can be also controlled from the &systemsettings; module, but
 not all.</para>
 
 <sect1 id="kdmrc">
@@ -126,7 +126,7 @@
 
 <note><para>A pristine &kdmrc; is very thoroughly commented.
 All comments will be lost if you change this file with the
-kcontrol frontend.</para></note>
+&systemsettings; frontend.</para></note>
 
 
 <sect2 id="kdmrc-general">
--- workspace/doc/CMakeLists.txt	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/doc/CMakeLists.txt	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -2,7 +2,7 @@
 add_subdirectory(klipper)
 add_subdirectory(kmenuedit)
 add_subdirectory(ksysguard)
-add_subdirectory(plasma)
+add_subdirectory(plasma-desktop)
 add_subdirectory(kcontrol)
 add_subdirectory(systemsettings)
 if(POLKITQT_FOUND)
--- workspace/klipper/klipper.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/klipper/klipper.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -22,7 +22,9 @@
    Boston, MA 02110-1301, USA.
 */
 
+#ifdef Q_WS_X11
 #include <config-X11.h>
+#endif
 
 #include <QtDBus/QDBusConnection>
 
@@ -1190,7 +1192,9 @@
 #endif
 KlipperEmptyDetector::KlipperEmptyDetector()
 : m_xfixes_event_base( -1 )
+#ifdef Q_WS_X11
 , m_xa_clipboard( None )
+#endif
 {
 #ifdef HAVE_XFIXES
     m_xa_clipboard = XInternAtom( QX11Info::display(), "CLIPBOARD", False );
@@ -1210,6 +1214,7 @@
 #endif
 }
 
+#ifdef Q_WS_X11
 bool KlipperEmptyDetector::x11Event( XEvent* e )
 {
 #ifdef HAVE_XFIXES
@@ -1237,5 +1242,6 @@
 #endif
     return false;
 }
+#endif
 
 #include "klipper.moc"
--- workspace/klipper/klipper.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/klipper/klipper.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -53,7 +53,9 @@
 signals:
     void changed( QClipboard::Mode m );
 protected:
+#ifdef Q_WS_X11
     virtual bool x11Event( XEvent* e );
+#endif
 private:
     int m_xfixes_event_base;
     unsigned int m_xa_clipboard;
--- workspace/kwrited/kwrited.notifyrc	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwrited/kwrited.notifyrc	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -178,7 +178,7 @@
 Comment[mk]=Даемонот прими нова порака испратена со „wall“(1) или „write“(1)
 Comment[ml]=wall(1) അല്ലെങ്കില്‍ write(1) എന്നിവയിലേതെങ്കിലുമുപയോഗിച്ചു് അയച്ച സന്ദേശം നിരന്തരപ്രവൃത്തിയ്ക്കു് ലഭിച്ചിരിയ്ക്കുന്നു
 Comment[mr]=डिमनने wall(1) किंवा write(1) सह पाठविलेले नविन संदेश प्राप्त केले
-Comment[nb]=Nisssen mottok en ny melding sendt med wall(1) eller write(1)
+Comment[nb]=Nissen mottok en ny melding sendt med wall(1) eller write(1)
 Comment[nds]=De Dämoon hett en nieg Narichten kregen, tostüert mit write(1) oder wall(1)
 Comment[nl]=De daemon ontving een nieuwe boodschap verzonden met wall(1) of write(1)
 Comment[nn]=Tenesta tok imot ei ny melding send med «wall(1)» eller «write(1)»
--- workspace/solid/networkmanager-0.6/solid_networkmanager.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/solid/networkmanager-0.6/solid_networkmanager.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -124,7 +124,7 @@
 Comment[mk]=Менаџмент на мрежа со користење на даемонот NetworkManager
 Comment[ml]=ശൃംഖലാനടത്തിപ്പുകാരന്‍ ഡെമണ്‍ ഉപയോഗിക്കുന്ന നെറ്റ്‌വര്‍ക്ക് മാനേജ്മെന്റ്
 Comment[mr]=संजाळव्यवस्थापक डीमनचा वापर करणारे संजाळ व्यवस्थापन
-Comment[nb]=Nettverkssyring med nissen NetworkManager
+Comment[nb]=Nettverksstyring med nissen NetworkManager
 Comment[nds]=Nettwarkpleeg mit den NetworkManager-Dämoon
 Comment[ne]=सञ्जाल प्रबन्धक डेइमोन प्रयोग गरिरहेको सञ्जाल व्यवस्थापन
 Comment[nl]=Netwerkbeheer via de NetworkManager-daemon
--- workspace/powerdevil/daemon/powerdevil.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/powerdevil/daemon/powerdevil.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -125,7 +125,7 @@
 Comment[or]=ଲ୍ୟାପଟପ ଶକ୍ତି ପରିଚାଳନା ଡ଼େମନ
 Comment[pa]=ਇੱਕ ਲੈਪਟਾਪ ਪਾਵਰ ਮੈਨੇਜਮੈਂਟ ਡੈਮਨ
 Comment[pl]=Usługa zarządzania energią w laptopie
-Comment[pt]=Um Sistema de Gestão da Energia para Portáteis
+Comment[pt]=Um Servidor de Gestão de Energia de Portáteis
 Comment[pt_BR]=Um daemon de gerenciamento de energia para laptop
 Comment[ro]=Demon pentru gestiunea energiei laptopului
 Comment[ru]=Служба управления питанием ноутбука
--- workspace/powerdevil/powerdevil.notifyrc	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/powerdevil/powerdevil.notifyrc	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -1608,7 +1608,7 @@
 Name[es]=Ejecutando la suspensión de la tarea
 Name[et]=Passiivseisundisse minek
 Name[eu]=Lan bat esekitzeko lanean
-Name[fi]=Suoritetaan keskeytystyö
+Name[fi]=Keskeytetään istuntoa
 Name[fr]=Exécution du travail de suspension
 Name[fy]=Fiert in sliepstântaak út
 Name[ga]=Jab fionraíochta á dhéanamh
@@ -1674,7 +1674,7 @@
 Comment[es]=Esta notificación se muestra cuando se va a realizar una tarea de suspensión e inicia un contador. Se recomienda que deje esto habilitado.
 Comment[et]=Seda märguannet näidatakse enne passiivseisundisse minekut teatava aja pärast. Seepärast on väga soovitatav jätta see sisselülitatuks.
 Comment[eu]=Jakinarazpen hau esekitze lan bat egin behar denean bistaratzen da, eta atzera zenbaketa bat eragiten du. Beraz, biziki gomendatzen da hura piztuta uztea.
-Comment[fi]=Tämä huomautus näytetään, kun keskeytystyö on tehty, ja se liipaisee loppulaskennan. Siten on suositeltavaa jättää se päälle.
+Comment[fi]=Tämä huomautus näytetään, kun istuntoa ollaan keskeyttämässä. Huomautus laukaisee loppulaskennan, joten se on suositeltavaa jättää se päälle.
 Comment[fr]=Cette notification est affichée lorsque le travail de suspension est prêt à démarrer et déclenche un compte à rebours. Par conséquent, il est fortement recommandé de la laisser active.
 Comment[fy]=Dizze notifikaasje wurdt werjûn as in sliepstântaak hast ynskeakele wurdt en der foarôf in ôftelling te sjen is. It wurdt ôfret om it ynskeakele te litten.
 Comment[ga]=Taispeántar an fógra seo nuair atáthar ar tí jab fionraíochta a dhéanamh, agus tosaíonn sé comhaireamh síos. Mar sin, moltar go láidir duit é a fhágáil ar siúl.
@@ -1807,7 +1807,7 @@
 Comment[es]=Ha tenido lugar un error interno de PowerDevil
 Comment[et]=PowerDevilit tabas sisemine tõrge
 Comment[eu]=PowerDevil-ek barne errorea eragin du
-Comment[fi]=PowerDevil on liipaissut sisäsen virheen
+Comment[fi]=PowerDevil on kohdannut sisäisen virheen
 Comment[fr]=PowerDevil a déclenché une erreur interne
 Comment[fy]=PowerDevil hat in ynterne flater oantrûne
 Comment[ga]=Mhúscail PowerDevil earráid inmheánach
--- workspace/krunner/screensaver/saverengine.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/krunner/screensaver/saverengine.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -17,6 +17,7 @@
 #include <krandom.h>
 #include <kdebug.h>
 #include <klocale.h>
+#include <kprocess.h>
 #include <QFile>
 #include <QX11Info>
 #include <QDBusConnection>
@@ -55,14 +56,12 @@
 
     mState = Waiting;
     mXAutoLock = 0;
+    mLockProcess = 0;
 
     m_nr_throttled = 0;
     m_nr_inhibited = 0;
     m_actived_time = -1;
 
-    connect(&mLockProcess, SIGNAL(finished(int, QProcess::ExitStatus)),
-                        SLOT(lockProcessExited()));
-
     connect(QDBusConnection::sessionBus().interface(),
                 SIGNAL(serviceOwnerChanged(QString,QString,QString)),
             SLOT(serviceOwnerChanged(QString,QString,QString)));
@@ -99,6 +98,7 @@
 SaverEngine::~SaverEngine()
 {
     delete mXAutoLock;
+    // Just let mLockProcess leak, so the saver is not killed
 
     // Restore X screensaver parameters
     XSetScreenSaver(QX11Info::display(), mXTimeout, mXInterval, mXBlanking,
@@ -116,7 +116,7 @@
     else
     {
         // XXX race condition here
-        ::kill(mLockProcess.pid(), SIGHUP);
+        ::kill(mLockProcess->pid(), SIGHUP);
     }
 }
 
@@ -141,7 +141,7 @@
     kDebug() << "Saver Lock Ready";
     processLockTransactions();
     if (m_nr_throttled)
-        ::kill(mLockProcess.pid(), SIGSTOP);
+        ::kill(mLockProcess->pid(), SIGSTOP);
 }
 
 void SaverEngine::SimulateUserActivity()
@@ -266,28 +266,32 @@
         kDebug() << "Can't find kscreenlocker!";
         return false;
     }
-    mLockProcess.clearProgram();
-    mLockProcess << path;
+    mLockProcess = new KProcess; // No parent, so it is not auto-deleted
+    connect(mLockProcess, SIGNAL(finished(int, QProcess::ExitStatus)),
+            SLOT(lockProcessExited()));
+    *mLockProcess << path;
     switch( lock_type )
     {
     case ForceLock:
-        mLockProcess << QString( "--forcelock" );
+        *mLockProcess << QString( "--forcelock" );
         break;
     case DontLock:
-        mLockProcess << QString( "--dontlock" );
+        *mLockProcess << QString( "--dontlock" );
         break;
     case PlasmaSetup:
-        mLockProcess << "--plasmasetup";
+        *mLockProcess << "--plasmasetup";
         break;
     default:
         break;
     }
 
     m_actived_time = time( 0 );
-    mLockProcess.start();
-    if (mLockProcess.waitForStarted() == false )
+    mLockProcess->start();
+    if (mLockProcess->waitForStarted() == false )
     {
         kDebug() << "Failed to start kscreenlocker!";
+        delete mLockProcess;
+        mLockProcess = 0;
         m_actived_time = -1;
         return false;
     }
@@ -320,7 +324,7 @@
     Q_ASSERT(mState != Waiting);
     kDebug() << "SaverEngine: stopping lock process";
 
-    mLockProcess.kill();
+    mLockProcess->kill();
 }
 
 void SaverEngine::lockProcessExited()
@@ -328,6 +332,9 @@
     Q_ASSERT(mState != Waiting);
     kDebug() << "SaverEngine: lock process exited";
 
+    delete mLockProcess;
+    mLockProcess = 0;
+
     if (mXAutoLock)
     {
         mXAutoLock->start();
@@ -409,7 +416,8 @@
     sr.type = ScreenSaverRequest::Inhibit;
     m_requests.append( sr );
     m_nr_inhibited++;
-    enable( false );
+    if (KScreenSaverSettings::screenSaverEnabled())
+        enable( false );
     return sr.cookie;
 }
 
@@ -421,7 +429,8 @@
         if ( it.next().cookie == cookie ) {
             it.remove();
             if ( !--m_nr_inhibited )
-                enable( true );
+                if (KScreenSaverSettings::screenSaverEnabled())
+                    enable( true );
         }
     }
 }
@@ -436,8 +445,9 @@
     sr.dbusid = message().service();
     m_requests.append( sr );
     m_nr_throttled++;
-    if (mLockProcess.state() == QProcess::Running)
-        ::kill(mLockProcess.pid(), SIGSTOP);
+    if (mLockProcess)
+        // XXX race condition here (locker may be not ready yet)
+        ::kill(mLockProcess->pid(), SIGSTOP);
     return sr.cookie;
 }
 
@@ -449,8 +459,8 @@
         if ( it.next().cookie == cookie ) {
             it.remove();
             if ( !--m_nr_throttled )
-                if (mLockProcess.state() == QProcess::Running)
-                    ::kill(mLockProcess.pid(), SIGCONT);
+                if (mLockProcess)
+                    ::kill(mLockProcess->pid(), SIGCONT);
         }
     }
 }
--- workspace/krunner/screensaver/saverengine.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/krunner/screensaver/saverengine.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -9,11 +9,12 @@
 #define SAVERENGINE_H
 
 #include <QWidget>
-#include <kprocess.h>
 #include <QVector>
 #include <QDBusContext>
 #include <QDBusMessage>
 
+class KProcess;
+
 #include "xautolock.h"
 #include "xautolock_c.h"
 
@@ -160,7 +161,7 @@
 
     State       mState;
     XAutoLock   *mXAutoLock;
-    KProcess    mLockProcess;
+    KProcess    *mLockProcess;
 
     // the original X screensaver parameters
     int         mXTimeout;
--- workspace/krunner/krunnerdialog.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/krunner/krunnerdialog.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -123,19 +123,18 @@
 void KRunnerDialog::resetScreenPos()
 {
     if (!m_floating) {
-        QHashIterator<int, QPoint> it(m_screenPos);
+        QMutableHashIterator<int, QPoint> it(m_screenPos);
         QRect r = KWindowSystem::workArea();
         while (it.hasNext()) {
-            QPoint p = it.next().value();
-            if (r.left() < p.x()) {
+            QPoint &p = it.next().value();
+
+            if (r.left() > p.x()) {
                 p.setX(r.left());
-            } else if (r.right() > p.x() + width() - 1) {
+            } else if (r.right() < p.x() + width() - 1) {
                 p.setX(r.right() - width());
             }
 
-            if (r.top() > p.y()) {
-                p.setY(r.top());
-            }
+            p.setY(r.top());
         }
 
         m_oldScreen = -1;
--- workspace/krunner/lock/kscreenlocker.notifyrc	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/krunner/lock/kscreenlocker.notifyrc	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -355,6 +355,7 @@
 Comment[hi]=स्क्रीन सेवर समाप्त हुआ
 Comment[hr]=Zaštita zaslona je završila
 Comment[id]=Penyimpan layar telah selesai
+Comment[is]=Skjáhvílan hefur lokið sér af
 Comment[it]=Il salvaschermo si è concluso
 Comment[ja]=スクリーンセーバーが終了しました
 Comment[kk]=Экран қорғаушысы жұмысын тоқтатты
@@ -466,6 +467,7 @@
 Comment[he]=מסך השתחרר
 Comment[hr]=Zaslon je otključan
 Comment[id]=Layar telah tidak dikunci
+Comment[is]=Skjánum hefur verið aflæst
 Comment[it]=Lo schermo è stato sbloccato
 Comment[ja]=スクリーンのロックが解除されました
 Comment[kk]=Экраннан бұғаты шешілді
@@ -523,6 +525,7 @@
 Name[hi]=स्क्रीन ताला नहीं खुला
 Name[hr]=Neuspjelo otključavanje zaslona
 Name[id]=Gagal membuka kunci
+Name[is]=Aflæsing skjásins mistókst
 Name[it]=Sblocco dello schermo non riuscito
 Name[ja]=スクリーンのロック解除失敗
 Name[kk]=Экран бұғатын шешуі болмады
@@ -576,6 +579,7 @@
 Comment[he]=ניסיון כושל לפתיחת נעילת המסך
 Comment[hr]=Propao je pokušaj otključavanja zaslona
 Comment[id]=Gagal mencoba membuka kunci layar
+Comment[is]=Tilraun til að aflæsa skjánum mistókst
 Comment[it]=Tentanivo di sbloccare lo schermo non riuscito
 Comment[ja]=スクリーンのロックを解除できませんでした
 Comment[kk]=Экран бұғатын шешу әректі сәтсіз аяқталды
--- workspace/krunner/krunner.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/krunner/krunner.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -40,7 +40,7 @@
 Name[km]=កម្មវិធី​រត់​ពាក្យ​បញ្ជា
 Name[kn]=ಆದೇಶ ಚಾಲಕ
 Name[ko]=명령 실행기
-Name[lt]=Komandų paleidiklis
+Name[lt]=Komandų bėgtukas
 Name[lv]=Komandu palaidējs
 Name[mai]=कमांड चलाबै बला
 Name[mk]=Извршувач на наредби
--- workspace/libs/plasmagenericshell/widgetsexplorer/appleticon.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/libs/plasmagenericshell/widgetsexplorer/appleticon.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -95,6 +95,7 @@
 
         QMimeData *data = m_appletItem.data()->mimeData();
 
+        emit dragStarted(this);
         drag->setMimeData(data);
         drag->exec();
 
--- workspace/libs/plasmagenericshell/widgetsexplorer/applettooltip.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/libs/plasmagenericshell/widgetsexplorer/applettooltip.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -31,15 +31,12 @@
 //AppletToolTipWidget
 
 AppletToolTipWidget::AppletToolTipWidget(QWidget *parent, AppletIconWidget *applet)
-        : Plasma::Dialog(parent)
+        : Plasma::Dialog(parent),
+          m_widget(new AppletInfoWidget())
 {
     setAcceptDrops(true);
     setWindowFlags(Qt::FramelessWindowHint | Qt::WindowStaysOnTopHint | Qt::X11BypassWindowManagerHint);
-    m_applet = applet;
-    m_widget = new AppletInfoWidget();
-    if (m_applet) {
-        m_widget->setAppletItem(m_applet->appletItem());
-    }
+    m_widget->setApplet(applet);
 }
 
 AppletToolTipWidget::~AppletToolTipWidget()
@@ -72,20 +69,17 @@
 
 void AppletToolTipWidget::setAppletIconWidget(AppletIconWidget *applet)
 {
-    m_applet = applet;
-    m_widget->setAppletItem(m_applet->appletItem());
+    m_widget->setApplet(applet);
 }
 
 void AppletToolTipWidget::updateContent()
 {
-    if(m_widget != 0) {
-        m_widget->updateInfo();
-    }
+    m_widget->updateInfo();
 }
 
-AppletIconWidget *AppletToolTipWidget::appletIconWidget()
+AppletIconWidget *AppletToolTipWidget::appletIconWidget() const
 {
-    return m_applet;
+    return m_widget->applet();
 }
 
 void AppletToolTipWidget::enterEvent(QEvent *event)
@@ -108,10 +102,10 @@
 
 //AppletInfoWidget
 
-AppletInfoWidget::AppletInfoWidget(QGraphicsItem *parent, PlasmaAppletItem *appletItem)
-        : QGraphicsWidget(parent)
+AppletInfoWidget::AppletInfoWidget(QGraphicsWidget *parent)
+        : QGraphicsWidget(parent),
+          m_applet(0)
 {
-    m_appletItem = appletItem;
     init();
 }
 
@@ -173,42 +167,49 @@
     setLayout(m_mainVerticalLayout);
 }
 
-void AppletInfoWidget::setAppletItem(PlasmaAppletItem *appletItem)
+void AppletInfoWidget::setApplet(AppletIconWidget *applet)
 {
-    m_appletItem = appletItem;
+    m_applet = applet;
+    updateInfo();
 }
 
+AppletIconWidget *AppletInfoWidget::applet() const
+{
+    return m_applet;
+}
+
 void AppletInfoWidget::updateInfo()
 {
-    if (m_appletItem) {
-        m_iconWidget->setIcon(m_appletItem->icon());
-        m_nameLabel->setText(m_appletItem->name());
-        m_versionLabel->setText(i18n("Version %1", m_appletItem->version()));
+    PlasmaAppletItem *appletItem = m_applet ? m_applet->appletItem() : 0;
+    if (appletItem) {
+        m_iconWidget->setIcon(appletItem->icon());
+        m_nameLabel->setText(appletItem->name());
+        m_versionLabel->setText(i18n("Version %1", appletItem->version()));
         QString description = "<html><body>";
-        if (!m_appletItem->description().isEmpty()) {
-            description += m_appletItem->description() + "<br/><br/>";
+        if (!appletItem->description().isEmpty()) {
+            description += appletItem->description() + "<br/><br/>";
         }
-        if (!m_appletItem->author().isEmpty()) {
+        if (!appletItem->author().isEmpty()) {
             description += i18n("<font color=\"%1\">Author:</font>") + "<div style=\"margin-left: 15px; color:%1\">" +
-                           m_appletItem->author();
-            if (!m_appletItem->email().isEmpty()) {
-                 description += " <a href=\"mailto:" + m_appletItem->email() + "\">" +
-                                m_appletItem->email() + "</a>";
+                           appletItem->author();
+            if (!appletItem->email().isEmpty()) {
+                 description += " <a href=\"mailto:" + appletItem->email() + "\">" +
+                                appletItem->email() + "</a>";
             }
             description += "</div>";
         }
-        if (!m_appletItem->website().isEmpty()) {
+        if (!appletItem->website().isEmpty()) {
             description += i18n("<font color=\"%1\">Website:</font>") + "<div style=\"margin-left: 15px; color:%1\">" + "<a href=\"" +
-                           m_appletItem->website() + "\">" + m_appletItem->website() +
+                           appletItem->website() + "\">" + appletItem->website() +
                            "</a></div>";
         }
         description += i18n("<font color=\"%1\">License:</font>") + "<div style=\"margin-left: 15px; color:%1\">" +
-                       m_appletItem->license() + "</div>";
+                       appletItem->license() + "</div>";
         description += "</body></html>";
         description = description.arg(Plasma::Theme::defaultTheme()->color(Plasma::Theme::TextColor).name());
 
         m_aboutLabel->setText(description);
-        m_uninstallButton->setVisible(m_appletItem->isLocal());
+        m_uninstallButton->setVisible(appletItem->isLocal());
     } else {
         m_iconWidget->setIcon("plasma");
         m_nameLabel->setText(i18n("Unknown Applet"));
@@ -218,16 +219,19 @@
 
 void AppletInfoWidget::uninstall()
 {
-    if (!m_appletItem) {
+    if (!m_applet) {
         return;
     }
 
+    PlasmaAppletItem *appletItem = m_applet->appletItem();
+    if (!appletItem) {
+        return;
+    }
+
     Plasma::PackageStructure installer;
-    installer.uninstallPackage(m_appletItem->pluginName(),
+    installer.uninstallPackage(appletItem->pluginName(),
                                KStandardDirs::locateLocal("data", "plasma/plasmoids/"));
-    PlasmaAppletItemModel *model = m_appletItem->appletItemModel();
-    model->takeRow(model->indexFromItem(m_appletItem).row());
-    delete m_appletItem;
-    m_appletItem = 0;
+    PlasmaAppletItemModel *model = appletItem->appletItemModel();
+    model->takeRow(model->indexFromItem(appletItem).row());
 }
 
--- workspace/libs/plasmagenericshell/widgetsexplorer/appleticon.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/libs/plasmagenericshell/widgetsexplorer/appleticon.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -48,6 +48,7 @@
         void hoverLeave(AppletIconWidget *applet);
         void selected(AppletIconWidget *applet);
         void doubleClicked(AppletIconWidget *applet);
+        void dragStarted(AppletIconWidget *applet);
 
     protected:
         //listen to events and emit signals
--- workspace/libs/plasmagenericshell/widgetsexplorer/appletslist.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/libs/plasmagenericshell/widgetsexplorer/appletslist.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -261,24 +261,24 @@
 void AppletsListWidget::timerEvent(QTimerEvent *event)
 {
     if (event->timerId() == m_searchDelayTimer.timerId()) {
+        m_searchDelayTimer.stop();
         m_modelFilterItems->setSearch(m_searchString);
-        m_searchDelayTimer.stop();
     } else if (event->timerId() == m_toolTipAppearTimer.timerId()) {
+        m_toolTipAppearTimer.stop();
         setToolTipPosition();
         m_toolTip->updateContent();
         m_toolTip->setVisible(true);
-        m_toolTipAppearTimer.stop();
     } else if (event->timerId() == m_toolTipAppearWhenAlreadyVisibleTimer.timerId()) {
+        m_toolTipAppearWhenAlreadyVisibleTimer.stop();
         m_toolTip->updateContent();
         setToolTipPosition();
-        m_toolTipAppearWhenAlreadyVisibleTimer.stop();
     } else if (event->timerId() == m_toolTipDisappearTimer.timerId()) {
+        m_toolTipDisappearTimer.stop();
         m_toolTip->setVisible(false);
-        m_toolTipDisappearTimer.stop();
     } else if (event->timerId() == m_filterApplianceTimer.timerId()) {
+        m_filterApplianceTimer.stop();
         m_modelFilterItems->setFilter(qVariantValue<KCategorizedItemsViewModels::Filter>
                                       (m_dataFilterAboutToApply));
-        m_filterApplianceTimer.stop();
     }
 
     QGraphicsWidget::timerEvent(event);
@@ -410,6 +410,7 @@
     connect(applet, SIGNAL(hoverLeave(AppletIconWidget*)), this, SLOT(appletIconHoverLeave(AppletIconWidget*)));
     connect(applet, SIGNAL(selected(AppletIconWidget*)), this, SLOT(itemSelected(AppletIconWidget*)));
     connect(applet, SIGNAL(doubleClicked(AppletIconWidget*)), this, SLOT(appletIconDoubleClicked(AppletIconWidget*)));
+    connect(applet, SIGNAL(dragStarted(AppletIconWidget*)), m_toolTip, SLOT(hide()));
 
     return applet;
 }
@@ -742,8 +743,10 @@
     Q_UNUSED(column)
     PlasmaAppletItem *item = dynamic_cast<PlasmaAppletItem*>(m_modelItems->item(row));
     if (item) {
+        m_toolTip->hide();
+        m_toolTip->setAppletIconWidget(0);
         m_allAppletsHash.remove(item->id());
+        item->deleteLater();
         updateList();
-        m_toolTip->hide();
     }
 }
--- workspace/libs/plasmagenericshell/widgetsexplorer/applettooltip.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/libs/plasmagenericshell/widgetsexplorer/applettooltip.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -30,16 +30,19 @@
 #include <plasma/widgets/textbrowser.h>
 #include <plasma/widgets/label.h>
 
+class AppletToolTipWidget;
+
 class AppletInfoWidget : public QGraphicsWidget {
 
     Q_OBJECT
 
     public:
-        AppletInfoWidget(QGraphicsItem *parent = 0, PlasmaAppletItem *appletItem = 0);
+        explicit AppletInfoWidget(QGraphicsWidget *parent = 0);
         ~AppletInfoWidget();
 
         void init();
-        void setAppletItem(PlasmaAppletItem *appletItem);
+        void setApplet(AppletIconWidget *applet);
+        AppletIconWidget *applet() const;
 
     public Q_SLOTS:
         void updateInfo();
@@ -48,7 +51,7 @@
         void uninstall();
 
     private:
-        PlasmaAppletItem *m_appletItem;
+        AppletIconWidget *m_applet;
         QGraphicsLinearLayout *m_mainLayout;
         QGraphicsLinearLayout *m_mainVerticalLayout;
 
@@ -68,8 +71,8 @@
         virtual ~AppletToolTipWidget();
 
         void setAppletIconWidget(AppletIconWidget *applet);
+        AppletIconWidget *appletIconWidget() const;
         void updateContent();
-        AppletIconWidget *appletIconWidget();
         void setScene(QGraphicsScene *scene);
 
     Q_SIGNALS:
@@ -82,7 +85,6 @@
         void dragEnterEvent(QDragEnterEvent *event);
 
     private:
-        AppletIconWidget *m_applet;
         AppletInfoWidget *m_widget;
 };
 
--- workspace/libs/kworkspace/kworkspace.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/libs/kworkspace/kworkspace.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -225,6 +225,8 @@
     int i;
     while( (i = display.indexOf(':')) >= 0)
        display[i] = '_';
+    while( (i = display.indexOf('/')) >= 0)
+       display[i] = '_';
 
     fName += '_';
     fName += display.toLocal8Bit();
--- workspace/libs/ksysguard/processcore/actions.actions	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/libs/ksysguard/processcore/actions.actions	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -21,6 +21,7 @@
 Name[he]=משמר המערכת של KDE
 Name[hr]=KSysGuard
 Name[id]=KSysGuard
+Name[is]=KDE kerfisvörður
 Name[it]=KSysGuard
 Name[ja]=KSysGuard
 Name[ka]=KSysGuard
--- workspace/libs/ksysguard/processui/ksysguardprocesslist.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/libs/ksysguard/processui/ksysguardprocesslist.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -915,7 +915,6 @@
             //resort now
             QHeaderView *header= d->mUi->treeView->header();
             d->mUi->treeView->sortByColumn(header->sortIndicatorSection(), header->sortIndicatorOrder());
-
         }
     }
 }
@@ -936,15 +935,14 @@
         d->mUpdateTimer = NULL;
         return;
     }
-    if(!isVisible())
-        return;
 
     if(!d->mUpdateTimer) {
         //intervalMSecs is a valid time, so set up a timer
         d->mUpdateTimer = new QTimer(this);
         d->mUpdateTimer->setSingleShot(true);
         connect(d->mUpdateTimer, SIGNAL(timeout()), SLOT(updateList()));
-        d->mUpdateTimer->start(d->mUpdateIntervalMSecs);
+        if(isVisible())
+            d->mUpdateTimer->start(d->mUpdateIntervalMSecs);
     } else
         d->mUpdateTimer->setInterval(d->mUpdateIntervalMSecs);
 }
--- workspace/khotkeys/data/kde32b1.khotkeys	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/khotkeys/data/kde32b1.khotkeys	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -819,7 +819,7 @@
 Comment[he]=פעולה זו מפעילה את Konsole כתוצאה מהקשה על Ctrl+Alt+T.
 Comment[hi]=यह क्रिया कंट्रोल+ऑल्ट+T को दबाने पर कंसोल को चलाता है.
 Comment[hne]=ये काम हर कंट्रोल+आल्ट+T ल दबाए के बाद कंसोल ल चलाही
-Comment[hr]=Ova akcija pokrene Konzolu, nakon pritiska Ctrl+Alt+T
+Comment[hr]=Ova akcija pokreće Konsoleu nakon pritiska Ctrl+Alt+T.
 Comment[hsb]=Tuta akcija startuje Konsolu, přez to zo stłóčiće Strg+Alt+T.
 Comment[hu]=A Ctrl+Alt+T megnyomásakor elindítja a Konsole-t.
 Comment[id]=Aksi ini menjalankan Konsole, setelah menekan Ctrl+Alt+T.
@@ -897,7 +897,7 @@
 Name[he]=הפעל את Konsole
 Name[hi]=कंसोल चलाएँ
 Name[hne]=कंसोल चलाव
-Name[hr]=Pokreni konzolu
+Name[hr]=Pokreni Konsole
 Name[hsb]=Konsolu startować
 Name[hu]=A Konsole futtatása
 Name[id]=Jalankan Konsole
@@ -1294,7 +1294,7 @@
 Comment[ga]=Trí Alt+Ctrl+W a bhrú, déanfar glao D-Bus a thaispeánann an minicli. Is féidir leat aon sórt glao D-Bus a úsáid, go díreach mar a dhéanfá le 'qdbus' ar líne na n-orduithe.
 Comment[gl]=Se preme Alt+Ctrl+W farase unha nova chamada de D-Bus que mostrará o minicli. Pode usar calquera clase de chamada D-Bus, como se usase a ferramenta da shell «qdbus». 
 Comment[he]=בעת לחיצה על Alt+Ctrl+W, תבוצע  D-Bus call שתחשוף את minicli. ניתן להשתמש בכל סוג של D-Bus call, כמו שימוש בלי שורת הפקודה 'qdbus'.
-Comment[hr]=Pritiskom na Alt+Ctrl+W bit će izveden D-Bus poziv koji će prikazati minicli. Možete koristiti bilo koju vrstu D-Bus poziva, baš kao da koristite konzolni alat 'qdbus'.
+Comment[hr]=Pritiskom na Alt+Ctrl+W bit će izveden poziv D-Busa koji će prikazati minicli. Možete koristiti bilo koju vrstu D-Bus poziva, baš kao da koristite konzolni alat 'qdbus'.
 Comment[hu]=A Alt+Ctrl+W lenyomásakor végrehajtódik egy D-Bus függvény, mely megjeleníti a mini programindítót. Tetszőleges D-Bus függvény megadható, hasonlóan a programsoros 'qdbus' programhoz.
 Comment[id]=Dengan menekan Alt+Ctrl+W sebuah panggilan D-Bus akan dilakukan yang akan menampilkan minicli. Anda dapat menggunakan panggilan D-Bus apapun, seperti ketika mengunakan baris perintah alat 'qdbus'.
 Comment[is]=Með því að halda niðri Alt+Ctrl+W er framkvæmt D-Bus kall sem mun birta smáskipanalínuna (minicli). Þú getur notað allar tegundir D-Bus kalla, svipað og verið sé að nota skipanalínutólið 'qdbus'.
--- workspace/ksplash/ksplashx/qrect.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/ksplash/ksplashx/qrect.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -145,7 +145,7 @@
 #if defined(Q_WS_X11) || defined(Q_OS_TEMP)
     friend void qt_setCoords( QRect *r, int xp1, int yp1, int xp2, int yp2 );
 #endif
-#if defined(Q_OS_MAC)
+#if defined(Q_WS_MAC)
     QCOORD y1;
     QCOORD x1;
     QCOORD y2;
--- workspace/ksplash/ksplashx/qpoint.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/ksplash/ksplashx/qpoint.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -93,7 +93,7 @@
 private:
     static void warningDivByZero();
 
-#if defined(Q_OS_MAC)
+#if defined(Q_WS_MAC)
     QCOORD yp;
     QCOORD xp;
 #else
--- workspace/kwin/effects/desktopgrid/desktopgrid.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/desktopgrid/desktopgrid.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -157,7 +157,7 @@
         paintingDesktop = desktop;
         effects->paintScreen( mask, region, d );
         }
-    if( isUsingPresentWindows() && windowMove )
+    if( isUsingPresentWindows() && windowMove && wasWindowMove )
         {
         // the moving window has to be painted on top of all desktops
         QPoint diff = cursorPos() - m_windowMoveStartPoint;
@@ -261,7 +261,7 @@
     {
     if( timeline.value() != 0 || (isUsingPresentWindows() && isMotionManagerMovingWindows()) )
         {
-        if( isUsingPresentWindows() && w == windowMove )
+        if( isUsingPresentWindows() && w == windowMove && wasWindowMove )
             {
             return; // will be painted on top of all other windows
             }
@@ -419,6 +419,31 @@
     effects->addRepaintFull();
     }
 
+void DesktopGridEffect::windowGeometryShapeChanged( EffectWindow* w, const QRect& old )
+    {
+    Q_UNUSED( old )
+    if( !activated )
+        return;
+    if( w == windowMove && wasWindowMove )
+        return;
+    if( isUsingPresentWindows() )
+        {
+        if( w->isOnAllDesktops() )
+            {
+            for( int i=0; i<effects->numberOfDesktops(); i++ )
+                {
+                WindowMotionManager& manager = m_managers[i*effects->numScreens()+w->screen()];
+                m_proxy->calculateWindowTransformations(manager.managedWindows(), w->screen(), manager);
+                }
+            }
+        else
+            {
+            WindowMotionManager& manager = m_managers[(w->desktop()-1)*effects->numScreens()+w->screen()];
+            m_proxy->calculateWindowTransformations(manager.managedWindows(), w->screen(), manager);
+            }
+        }
+    }
+
 void DesktopGridEffect::windowInputMouseEvent( Window, QEvent* e )
     {
     if((   e->type() != QEvent::MouseMove
--- workspace/kwin/effects/desktopgrid/desktopgrid.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/desktopgrid/desktopgrid.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -46,6 +46,7 @@
         virtual void paintWindow( EffectWindow* w, int mask, QRegion region, WindowPaintData& data );
         virtual void windowClosed( EffectWindow* w );
         virtual void windowAdded( EffectWindow* w );
+        virtual void windowGeometryShapeChanged( EffectWindow* w, const QRect& old );
         virtual void windowInputMouseEvent( Window w, QEvent* e );
         virtual void grabbedKeyboardEvent( QKeyEvent* e );
         virtual bool borderActivated( ElectricBorder border );
--- workspace/kwin/effects/presentwindows/presentwindows.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/presentwindows/presentwindows.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -79,6 +79,7 @@
         virtual void windowAdded( EffectWindow *w );
         virtual void windowClosed( EffectWindow *w );
         virtual void windowDeleted( EffectWindow *w );
+        virtual void windowGeometryShapeChanged( EffectWindow* w, const QRect& old );
         virtual bool borderActivated( ElectricBorder border );
         virtual void windowInputMouseEvent( Window w, QEvent *e );
         virtual void grabbedKeyboardEvent( QKeyEvent *e );
--- workspace/kwin/effects/presentwindows/presentwindows.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/presentwindows/presentwindows.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -408,6 +408,16 @@
     m_motionManager.unmanage( w );
     }
 
+void PresentWindowsEffect::windowGeometryShapeChanged( EffectWindow* w, const QRect& old )
+    {
+    Q_UNUSED( old )
+    if( !m_activated )
+        return;
+    if( !m_windowData.contains( w ))
+        return;
+    rearrangeWindows();
+    }
+
 bool PresentWindowsEffect::borderActivated( ElectricBorder border )
     {
     if( !m_borderActivate.contains( border ) && !m_borderActivateAll.contains( border ) )
--- workspace/kwin/effects/slidingpopups/slidingpopups.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/slidingpopups/slidingpopups.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -16,6 +16,7 @@
 Name[hi]=खिसकते पॉपप
 Name[hr]=Pomični iskočnici
 Name[id]=Menggeser popup
+Name[is]=Rennandi sprettgluggar
 Name[it]=Fai scivolare le finestre a comparsa
 Name[ja]=スライドポップアップ
 Name[kk]=Қалқымалыларды сырғанату
@@ -65,6 +66,7 @@
 Comment[gl]=Animación deslizantes para os widgets de Plasma emerxentes
 Comment[hr]=Animacija pomicanja za Plasma iskočnike
 Comment[id]=Animasi menggeser untuk popup Plasma
+Comment[is]=Rennslishreyfing fyrir Plasma sprettglugga
 Comment[it]=Animazione in scivolata per le finestre a comparsa di Plasma
 Comment[ja]=Plasma のポップアップをスライドさせて表示します
 Comment[kk]=Plasma қалқымалылардың сырғанауын анимациялау
--- workspace/kwin/effects/shadow/shadow_config.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/shadow/shadow_config.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -41,7 +41,7 @@
 Name[id]=Bayang
 Name[is]=Skuggi
 Name[it]=Ombra
-Name[ja]=シャドウ
+Name[ja]=影付け
 Name[kk]=Көлеңке
 Name[km]=ស្រមោល​
 Name[kn]=ನೆರಳು
--- workspace/kwin/effects/shadow/shadow.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/shadow/shadow.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -34,7 +34,7 @@
 Name[id]=Bayang
 Name[is]=Skuggi
 Name[it]=Ombra
-Name[ja]=シャドウ
+Name[ja]=影付け
 Name[kk]=Көлеңке
 Name[km]=ស្រមោល​
 Name[kn]=ನೆರಳು
@@ -111,7 +111,7 @@
 Comment[id]=Gambar bayangan di bawah jendela
 Comment[is]=Bætir við skuggum undir glugga
 Comment[it]=Disegna un'ombra sotto le finestre
-Comment[ja]=ウィンドウの下に影を描画します
+Comment[ja]=ウィンドウの下に影を付けます
 Comment[kk]=Терезелердің астына қолеңкесін қосады
 Comment[km]=បន្ថែម​ស្រមោល​ក្រោម​បង្អួច​
 Comment[kn]=ಕಿಟಕಿಗಳ ಅಡಿಯಲ್ಲಿ ನೆರಳನ್ನು  ಚಿತ್ರಿಸು
--- workspace/kwin/effects/_test/swiveltabs/swiveltabs_config.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/_test/swiveltabs/swiveltabs_config.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -20,10 +20,12 @@
 Name[fy]=Swivel ljeppers
 Name[hr]=Kartice koje se okreću oko osi
 Name[id]=Tab Putar
+Name[is]=Snúa flipum
 Name[it]=Fa' girare le schede
 Name[kk]=Қойындыларды бұрау
 Name[km]=បង្វិល​ផ្ទាំង
 Name[ko]=돌아가는 탭
+Name[lt]=Sukti korteles
 Name[lv]=Rotē cilnes
 Name[ml]=കിളിവാതിലുകള്‍ ഒളഞ്ചട്ടെ
 Name[nb]=Roter faner
--- workspace/kwin/effects/_test/swiveltabs/swiveltabs.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/_test/swiveltabs/swiveltabs.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -13,10 +13,12 @@
 Name[fy]=Swivel ljeppers
 Name[hr]=Kartice koje se okreću oko osi
 Name[id]=Tab Putar
+Name[is]=Snúa flipum
 Name[it]=Fa' girare le schede
 Name[kk]=Қойындыларды бұрау
 Name[km]=បង្វិល​ផ្ទាំង
 Name[ko]=돌아가는 탭
+Name[lt]=Sukti korteles
 Name[lv]=Rotē cilnes
 Name[ml]=കിളിവാതിലുകള്‍ ഒളഞ്ചട്ടെ
 Name[nb]=Roter faner
@@ -54,10 +56,12 @@
 Comment[he]=גרום לחלונות להסתובב בעת מעבר בין לשוניות
 Comment[hr]=Učini da se prozori okreću kada se prebacuju kartice
 Comment[id]=Buat jendela berputar ketika memindahkan tab
+Comment[is]=Snýr gluggum þegar skipt er um flipa
 Comment[it]=Fa girare le finestre quando si cambiano le schede.
 Comment[kk]=Қойындыларды ауыстыру кезде терезелерді бұрау
 Comment[km]=ធ្វើ​ឲ្យ​បង្អួច​ត្រឡប់​នៅពេល​ប្ដូរ​ផ្ទាំង
 Comment[ko]=탭 사이를 전환할 때 창을 회전합니다
+Comment[lt]=Priverčia langus suktis keičiant korteles
 Comment[lv]=Liek cilnēm rotēt, pārslēdzot tās
 Comment[ml]=കിളിവാതിലുകള്‍ തമ്മില്‍ മാറുമ്പോള്‍ ജാലകങ്ങള്‍ തിരിയട്ടെ
 Comment[nb]=La vinduene dreie seg når du bytter faner
--- workspace/kwin/effects/_test/gears.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/_test/gears.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -17,11 +17,13 @@
 Name[hi]=क्यूब गेयर
 Name[hr]=Kocka s zupčanicima
 Name[id]=Gigi Kubus
+Name[is]=Kubbagírar
 Name[it]=Ingranaggi del cubo
 Name[kk]=Текшенің тістегіршектері
 Name[km]=គូប​រាង​ស្ពឺ
 Name[kn]=ಘನಾಕೃತಿಯ ಸಜ್ಜು ಸಾಮಗ್ರಿಗಳು(Gears)
 Name[ko]=큐브 기어
+Name[lt]=Kubo krumpliaračiai
 Name[lv]=Kuba zobrati
 Name[mai]=घन गीयर
 Name[mk]=Запчаници во коцката
@@ -67,10 +69,12 @@
 Comment[he]=הצג גלגלי שיניים בתוך הקובייה
 Comment[hr]=Prikazuj zupčanike unutar kocke
 Comment[id]=Tampilkan gigi di dalam kubus
+Comment[is]=Sýnir gírhjól innan í kassanum
 Comment[it]=Mostra gli ingranaggi nel cubo
 Comment[kk]=Текшенің ішіндегі тістегіршектерін көрсету
 Comment[km]=បង្ហាញ​ស្ពឺ​ខាង​ក្នុងគូប
 Comment[ko]=큐브 안에 기어를 표시합니다
+Comment[lt]=Rodyti krumpliaračius kube
 Comment[lv]=Rāda zobratus kuba iekšienē
 Comment[mk]=Прикажува запчаници во внатрешноста од коцката
 Comment[ml]=ക്യൂബിനകത്തു് ഗിയറുകള്‍ കാണിയ്ക്കുക
--- workspace/kwin/effects/_test/slidetabs/slidetabs.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/_test/slidetabs/slidetabs.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -14,11 +14,13 @@
 Name[he]=החלק לשוניות
 Name[hr]=Kliži kartice
 Name[id]=Tab Geser
+Name[is]=Renna flipum
 Name[it]=Fa' scivolare le schede
 Name[kk]=Қойындыларды сырғанату
 Name[km]=ផ្លាស់ទី​ផ្ទាំង
 Name[kn]=ಜಾರುವ ಹಾಳೆಗಳು
 Name[ko]=탭 미끄러짐
+Name[lt]=Kortelių slinkimas
 Name[lv]=Slīdēt cilnes
 Name[ml]=കിളിവാതിലുകള്‍ തെന്നി നീങ്ങുക
 Name[nb]=Skyv faner
@@ -62,10 +64,12 @@
 Comment[he]=גרום לחלונות לגלוש במסך מעבר או קיבוץ לשוניות.
 Comment[hr]=Kliži prozore kada se prebacuju između ili grupiraju u kartice.
 Comment[id]=Geser jendela ketika memindahkan atau mengelompokkan tab.
+Comment[is]=Renna gluggum yfir skjáinn þegar skipt er um flipa eða þeir eru hópaðir
 Comment[it]=Fa scivolare le finestre quando si cambiano o raggruppano le schede.
 Comment[kk]=Қойындыларды ауыстыру не топтастыр кезде терезелерді сырғанату.
 Comment[km]=បង្អួច​ស្លាយ​ នៅពេល​ប្ដូរ​ ឬ​ផ្ទាំង​ក្រុម ។
 Comment[ko]=탭 사이를 전환하거나 탭으로 묶을 때 미끄러짐 효과를 사용합니다.
+Comment[lt]=Perslenka langus keičiant ar grupuojant korteles.
 Comment[lv]=Slīdina logus, pārslēdzot vai grupējot cilnes.
 Comment[ml]=കിളിവാതിലുകള്‍ തമ്മില്‍ മാറുമ്പോള്‍ ജാലകങ്ങള്‍ തെന്നി മാറട്ടെ.
 Comment[nb]=La vinduene skli over skjermen når du bytter eller grupperer faner
--- workspace/kwin/effects/_test/slidetabs/slidetabs_config.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/effects/_test/slidetabs/slidetabs_config.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -21,11 +21,13 @@
 Name[he]=החלק לשוניות
 Name[hr]=Kliži kartice
 Name[id]=Tab Geser
+Name[is]=Renna flipum
 Name[it]=Fa' scivolare le schede
 Name[kk]=Қойындыларды сырғанату
 Name[km]=ផ្លាស់ទី​ផ្ទាំង
 Name[kn]=ಜಾರುವ ಹಾಳೆಗಳು
 Name[ko]=탭 미끄러짐
+Name[lt]=Kortelių slinkimas
 Name[lv]=Slīdēt cilnes
 Name[ml]=കിളിവാതിലുകള്‍ തെന്നി നീങ്ങുക
 Name[nb]=Skyv faner
--- workspace/kwin/clients/oxygen/oxygenclient.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/clients/oxygen/oxygenclient.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -1230,7 +1230,6 @@
   QString OxygenClient::defaultButtonsLeft() const
   { return KCommonDecoration::defaultButtonsLeft(); }
 
-
   //_________________________________________________________
   QString OxygenClient::defaultButtonsRight() const
   { return "HIAX"; }
--- workspace/kwin/clients/oxygen/oxygenclient.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/clients/oxygen/oxygenclient.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -36,7 +36,6 @@
 #include "lib/helper.h"
 
 #include <kcommondecoration.h>
-#include <KGlobalSettings>
 #include <QtCore/QBasicTimer>
 #include <QtCore/QTimerEvent>
 
@@ -80,13 +79,8 @@
 
 
         //! true if animations are used
-        /*! this combines OxygenConfiguration and KGlobalSettings */
         bool useAnimations( void ) const
-        {
-          return
-            configuration().useAnimations() &&
-            KGlobalSettings::graphicEffectsLevel() >= KGlobalSettings::SimpleAnimationEffects;
-        }
+        { return configuration().useAnimations(); }
 
         //! true if glow is animated
         bool glowIsAnimated( void ) const
--- workspace/kwin/clients/oxygen/config/oxygenconfigurationui.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/clients/oxygen/config/oxygenconfigurationui.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -109,6 +109,7 @@
     connect( ui.sizeGripMode, SIGNAL(currentIndexChanged(int)), SIGNAL(changed()) );
 
     connect( ui.tabsEnabled, SIGNAL(clicked()), SIGNAL(changed()) );
+    connect( ui.useAnimations, SIGNAL(clicked()), SIGNAL(changed()) );
     connect( ui.drawSeparator, SIGNAL(clicked()), SIGNAL(changed()) );
     connect( ui.titleOutline, SIGNAL(clicked()), SIGNAL(changed()) );
     connect( ui.exceptions, SIGNAL(changed()), SIGNAL(changed()) );
--- workspace/kwin/clients/oxygen/config/config.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/clients/oxygen/config/config.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -130,6 +130,7 @@
     configurationGroup.writeEntry( OxygenConfig::DRAW_TITLE_OUTLINE, userInterface_->ui.titleOutline->isChecked() );
     configurationGroup.writeEntry( OxygenConfig::USE_OXYGEN_SHADOWS, userInterface_->shadowConfigurations[0]->isChecked() );
     configurationGroup.writeEntry( OxygenConfig::TABS_ENABLED, userInterface_->ui.tabsEnabled->isChecked() );
+    configurationGroup.writeEntry( OxygenConfig::USE_ANIMATIONS, userInterface_->ui.useAnimations->isChecked() );
 
     // write exceptions
     userInterface_->ui.exceptions->exceptions().write( *configuration_ );
@@ -193,6 +194,7 @@
     userInterface_->ui.titleOutline->setChecked( configuration.drawTitleOutline() );
     userInterface_->shadowConfigurations[0]->setChecked( configuration.useOxygenShadows() );
     userInterface_->ui.tabsEnabled->setChecked( configuration.tabsEnabled() );
+    userInterface_->ui.useAnimations->setChecked( configuration.useAnimations() );
   }
 
 
--- workspace/kwin/clients/oxygen/config/oxygenconfigurationui.ui	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/clients/oxygen/config/oxygenconfigurationui.ui	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -89,7 +89,7 @@
          </property>
         </widget>
        </item>
-       <item row="4" column="0">
+       <item row="5" column="0">
         <spacer name="verticalSpacer">
          <property name="orientation">
           <enum>Qt::Vertical</enum>
@@ -102,6 +102,13 @@
          </property>
         </spacer>
        </item>
+       <item row="4" column="0" colspan="2">
+        <widget class="QCheckBox" name="useAnimations">
+         <property name="text">
+          <string>Enable animations</string>
+         </property>
+        </widget>
+       </item>
       </layout>
      </widget>
      <widget class="QWidget" name="tab_2">
--- workspace/kwin/kcmkwin/kwinscreenedges/main.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/kcmkwin/kwinscreenedges/main.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -250,6 +250,7 @@
     KConfigGroup config( m_config, "ElectricBorders" );
     QString lowerName = config.readEntry( configName, "None" ).toLower();
     if( lowerName == "dashboard" ) monitorChangeEdge( edge, int( ElectricActionDashboard ));
+    else if( lowerName == "showdesktop" ) monitorChangeEdge( edge, int( ElectricActionShowDesktop ));
     }
 
 void KWinScreenEdgesConfig::monitorLoad()
--- workspace/kwin/kcmkwin/kwintabbox/kwintabbox.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/kcmkwin/kwintabbox/kwintabbox.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -28,6 +28,7 @@
 Name[he]=נווט דרך חלונות
 Name[hr]=Hod kroz prozore
 Name[id]=Navigasi Melalui Jendela
+Name[is]=Flakka milli glugga
 Name[it]=Naviga tra le finestre
 Name[ja]=ウィンドウ間のナビゲーション
 Name[kk]=Терезелер арасында аусу
@@ -79,6 +80,7 @@
 Comment[he]=הגדר התנהגות בעת ניווט דרך חלונות.
 Comment[hr]=Podešavanje ponašanja hoda kroz prozore.
 Comment[id]=Atur perilaku untuk bernavigasi melalui jendela.
+Comment[is]=Stilla hegðun flakks á milli glugga.
 Comment[it]=Configura come si naviga tra le finestre
 Comment[ja]=ウィンドウ間を移動する際の挙動を設定
 Comment[kk]=Терезелер арасында ауысу тәртібін орнату.
--- workspace/kwin/tabbox/tabboxview.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/tabbox/tabboxview.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -339,7 +339,7 @@
 
 QModelIndex TabBoxView::indexAt( QPoint pos )
     {
-    return m_tableView->indexAt( pos );
+    return m_tableView->indexAt( m_tableView->mapFromParent( pos ) );
     }
 
 void TabBoxView::setPreview( bool preview )
--- workspace/kwin/lib/CMakeLists.txt	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/lib/CMakeLists.txt	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -8,7 +8,6 @@
    kcommondecoration.cpp
    kcommondecoration_p.cpp )
 
-
 kde4_add_library(kdecorations SHARED ${kdecorations_LIB_SRCS})
 
 target_link_libraries(kdecorations ${KDE4_KDEUI_LIBS} kephal)
@@ -54,6 +53,7 @@
   if (DL_LIBRARY)
     target_link_libraries(kwineffects ${DL_LIBRARY})
   endif(DL_LIBRARY)
+  include_directories(${OPENGL_INCLUDE_DIR})
 endif(OPENGL_FOUND)
 if (X11_Xrender_FOUND)
   target_link_libraries(kwineffects ${X11_Xrender_LIB})
--- workspace/kwin/CMakeLists.txt	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kwin/CMakeLists.txt	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -26,6 +26,10 @@
 
 macro_bool_to_01( OPENGL_FOUND KWIN_HAVE_OPENGL )
 
+if(OPENGL_FOUND)
+  include_directories(${OPENGL_INCLUDE_DIR})
+endif(OPENGL_FOUND)
+
 # for things that are also used by kwin libraries
 configure_file(lib/kwinconfig.h.cmake ${CMAKE_CURRENT_BINARY_DIR}/lib/kwinconfig.h )
 # for kwin internal things
--- workspace/kdm/backend/bootman.c	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kdm/backend/bootman.c	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -70,6 +70,7 @@
 
 #define GRUB_MENU "/boot/grub/menu.lst"
 
+static char *grubSetDefault;
 static char *grub;
 
 static int
@@ -80,7 +81,9 @@
 	int len;
 	char line[1000];
 
-	if (!grub && !(grub = locate( "grub-set-default" )))
+	if (!grubSetDefault && !grub &&
+	    !(grubSetDefault = locate( "grub-set-default" )) &&
+	    !(grub = locate( "grub" )))
 		return BO_NOMAN;
 
 	*def = 0;
@@ -130,15 +133,31 @@
 static void
 commitGrub( void )
 {
-	char index[16];
-	const char *args[3] = { grub, index, 0 };
-
 	if (sdRec.bmstamp != mTime( GRUB_MENU ) &&
 	    setGrub( sdRec.osname, &sdRec ) != BO_OK)
 		return;
 
-	sprintf( index, "%d", sdRec.osindex );
-	runAndWait( (char **)args, environ );
+	if (grubSetDefault) {
+		/* The grub-set-default command must be used, which is
+		 * not so good because there is no way of setting an
+		 * entry for the next boot only. */
+		char index[16];
+		const char *args[] = { grubSetDefault, index, 0 };
+		sprintf( index, "%d", sdRec.osindex );
+		runAndWait( (char **)args, environ );
+	} else {
+		/* The grub shell can be used with `savedefault'.
+		 * That requires a (widely distributed) patch to grub, e.g.
+		 * grub-0.97-once.patch. It won't work with a vanilla grub.*/
+		FILE *f;
+		int pid;
+		static const char *args[] = { 0, "--batch", "--no-floppy", 0 };
+		args[0] = grub;
+		if ((f = pOpen( (char **)args, 'w', &pid ))) {
+			fprintf( f, "savedefault --default=%d --once\n", sdRec.osindex );
+			pClose( f, &pid );
+		}
+	}
 }
 
 static char *lilo;
--- workspace/kdm/backend/util.c	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kdm/backend/util.c	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -35,6 +35,7 @@
  */
 
 #include "dm.h"
+#include "dm_auth.h"
 #include "dm_error.h"
 
 #include <string.h>
@@ -570,6 +571,20 @@
 		return st.st_mtime;
 }
 
+void
+randomStr( char *s )
+{
+	static const char letters[] =
+		"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
+	unsigned i, rn = secureRandom();
+
+	for (i = 0; i < 6; i++) {
+		*s++ = letters[rn % 62];
+		rn /= 62;
+	}
+	*s = 0;
+}
+
 static int
 strNChrCnt( const char *s, int slen, char c )
 {
--- workspace/kdm/backend/client.c	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kdm/backend/client.c	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -136,7 +136,10 @@
 	gRecvInt();
 }
 
-#if !defined(USE_PAM) && (defined(HAVE_STRUCT_PASSWD_PW_EXPIRE) || defined(USESHADOW))
+#if (!defined(USE_PAM) && !defined(_AIX) \
+     && (defined(HAVE_STRUCT_PASSWD_PW_EXPIRE) || defined(USESHADOW) \
+         || (defined(KERBEROS) && defined(AFS)))) \
+    || defined(HAVE_CKCONNECTOR)
 static void
 displayMsg( int lv, const char *msg, ... )
 {
@@ -1335,12 +1338,17 @@
 	if (!ckStatus) {
 		if (dbus_error_is_set( &error )) {
 			logError( "Cannot open ConsoleKit session: %s\n", error.message );
+			displayMsg( V_MSG_ERR,
+			            "Warning: Cannot open ConsoleKit session: %s",
+			             error.message );
 			dbus_error_free( &error );
 		} else {
 			logError( "Cannot open ConsoleKit session, likely OOM\n" );
+			displayStr( V_MSG_ERR,
+			            "Warning: Cannot open ConsoleKit session." );
 		}
 		ck_connector_unref( ckConnector );
-		V_RET;
+		ckConnector = 0;
 	}
 #endif
 
--- workspace/kdm/backend/auth.c	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kdm/backend/auth.c	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -319,15 +319,29 @@
 }
 
 
+static FILE *
+mkTempFile( char *nambuf, int namelen )
+{
+	FILE *f;
+	int r;
+
+	for (r = 0; r < 100; r++) {
+		randomStr( nambuf + namelen );
+		if ((f = fdOpenW( open( nambuf, O_WRONLY | O_CREAT | O_EXCL, 0600 ) )))
+			return f;
+		if (errno != EEXIST)
+			break;
+	}
+	return 0;
+}
+
 #define NAMELEN 255
 
 static FILE *
 makeServerAuthFile( struct display *d )
 {
 	FILE *f;
-#ifndef HAVE_MKSTEMP
-	int r;
-#endif
+	int i;
 	char cleanname[NAMELEN], nambuf[NAMELEN+128];
 
 	/*
@@ -339,22 +353,11 @@
 	if (mkdir( authDir, 0755 ) < 0  &&  errno != EEXIST)
 		return 0;
 	cleanUpFileName( d->name, cleanname, NAMELEN - 8 );
-#ifdef HAVE_MKSTEMP
-	sprintf( nambuf, "%s/A%s-XXXXXX", authDir, cleanname );
-	if ((f = fdOpenW( mkstemp( nambuf ) ))) {
+	i = sprintf( nambuf, "%s/A%s-", authDir, cleanname );
+	if ((f = mkTempFile( nambuf, i ))) {
 		strDup( &d->authFile, nambuf );
 		return f;
 	}
-#else
-	for (r = 0; r < 100; r++) {
-		sprintf( nambuf, "%s/A%s-XXXXXX", authDir, cleanname );
-		(void)mktemp( nambuf );
-		if ((f = fdOpenW( open( nambuf, O_WRONLY | O_CREAT | O_EXCL, 0600 ) ))) {
-			strDup( &d->authFile, nambuf );
-			return f;
-		}
-	}
-#endif
 	return 0;
 }
 
@@ -1203,21 +1206,10 @@
 			 * temporary - we can assume that we are the only ones
 			 * knowing about this file anyway.
 			 */
-#ifdef HAVE_MKSTEMP
-			sprintf( name_buf, "%s/.XauthXXXXXX", d->userAuthDir );
-			new = fdOpenW( mkstemp( name_buf ) );
-#else
-			for (i = 0; i < 100; i++) {
-				sprintf( name_buf, "%s/.XauthXXXXXX", d->userAuthDir );
-				(void)mktemp( name_buf );
-				if ((new =
-				     fdOpenW( open( name_buf, O_WRONLY | O_CREAT | O_EXCL,
-				                    0600 ) )))
-					break;
-			}
-#endif
+			i = sprintf( name_buf, "%s/.Xauth", d->userAuthDir );
+			new = mkTempFile( name_buf, i );
 			if (!new) {
-				logError( "Cannot create authorization file in %s\n",
+				logError( "Cannot create authorization file in %s: %m\n",
 				          d->userAuthDir );
 				return;
 			}
--- workspace/kdm/backend/ctrl.c	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kdm/backend/ctrl.c	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -98,7 +98,7 @@
 	if (cr->fd < 0) {
 		if (mkdir( fifoDir, 0755 )) {
 			if (errno != EEXIST) {
-				logError( "mkdir %\"s failed; no control FiFos will be available\n",
+				logError( "mkdir %\"s failed: %m; no control sockets will be available\n",
 				          fifoDir );
 				return;
 			}
@@ -111,17 +111,17 @@
 			strApp( &cr->path, sockdir, "/socket", (char *)0 );
 			if (cr->path) {
 				if (strlen( cr->path ) >= sizeof(sa.sun_path))
-					logError( "path %\"s too long; no control sockets will be available\n",
+					logError( "path %\"s too long; control socket will not be available\n",
 					          cr->path );
 				else if (mkdir( sockdir, 0755 ) && errno != EEXIST)
-					logError( "mkdir %\"s failed; no control sockets will be available\n",
+					logError( "mkdir %\"s failed: %m; control socket will not be available\n",
 					          sockdir );
 				else {
 					if (!d)
 						chown( sockdir, -1, fifoGroup );
 					chmod( sockdir, 0750 );
 					if ((cr->fd = socket( PF_UNIX, SOCK_STREAM, 0 )) < 0)
-						logError( "Cannot create control socket\n" );
+						logError( "Cannot create control socket: %m\n" );
 					else {
 						unlink( cr->path );
 						sa.sun_family = AF_UNIX;
@@ -135,10 +135,10 @@
 								return;
 							}
 							unlink( cr->path );
-							logError( "Cannot listen on control socket %\"s\n",
+							logError( "Cannot listen on control socket %\"s: %m\n",
 							          cr->path );
 						} else
-							logError( "Cannot bind control socket %\"s\n",
+							logError( "Cannot bind control socket %\"s: %m\n",
 							          cr->path );
 						close( cr->fd );
 						cr->fd = -1;
--- workspace/kdm/backend/dm.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kdm/backend/dm.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -102,7 +102,6 @@
 # define Jmp_buf sigjmp_buf
 #endif
 
-#include <utmp.h>
 #ifdef HAVE_UTMPX
 # include <utmpx.h>
 # define STRUCTUTMP struct utmpx
@@ -113,16 +112,17 @@
 # define ENDUTENT endutxent
 # define ut_time ut_tv.tv_sec
 #else
+# include <utmp.h>
 # define STRUCTUTMP struct utmp
 # define UTMPNAME utmpname
 # define SETUTENT setutent
 # define GETUTENT getutent
 # define PUTUTLINE pututline
 # define ENDUTENT endutent
+# ifndef HAVE_STRUCT_UTMP_UT_USER
+#  define ut_user ut_name
+# endif
 #endif
-#ifndef HAVE_STRUCT_UTMP_UT_USER
-# define ut_user ut_name
-#endif
 #ifndef WTMP_FILE
 # ifdef _PATH_WTMPX
 #  define WTMP_FILE _PATH_WTMPX
@@ -560,6 +560,7 @@
 int writer( int fd, const void *buf, int len );
 int fGets( char *buf, int max, FILE *f );
 time_t mTime( const char *fn );
+void randomStr( char *s );
 int hexToBinary( char *out, const char *in );
 void listSessions( int flags, struct display *d, void *ctx,
                    void (*emitXSess)( struct display *, struct display *, void * ),
--- workspace/kdm/backend/sessreg.c	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kdm/backend/sessreg.c	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -42,6 +42,11 @@
 #if defined(__svr4__) || defined(__Lynx__) || defined(__QNX__) || defined(__APPLE__) || defined(_SEQUENT_) /*|| defined(USE_PAM)*/
 # define NO_LASTLOG
 #endif
+#ifdef __FreeBSD__
+# if __FreeBSD_version >= 900007
+#  define NO_LASTLOG
+# endif
+#endif
 
 #ifndef NO_LASTLOG
 # ifdef HAVE_LASTLOG_H
@@ -274,7 +279,6 @@
 	}
   skip:
 # else
-	UTMPNAME( UTMP_FILE );
 	SETUTENT();
 	PUTUTLINE( &ut_ent ); /* Returns void on some systems => no error check. */
 	ENDUTENT();
--- workspace/kdm/kfrontend/kdmconfig.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kdm/kfrontend/kdmconfig.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -93,6 +93,9 @@
 		(_grabInputPre == GRAB_ALWAYS) ? 1 :
 		!_authorized;
 
+	QByteArray dd = _dataDir.toUtf8();
+	if (access( dd.constData(), W_OK ))
+		logError( "Data directory %\"s not accessible: %m\n", dd.constData());
 	_stsFile = _dataDir + "/kdmsts";
 
 	// Greet String
--- workspace/kdm/kfrontend/genkdmconf.c	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kdm/kfrontend/genkdmconf.c	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -529,7 +529,7 @@
 						goto havit;
 					}
 				if (!(sp = malloc( sizeof(*sp) )))
-					fprintf_( stderr, "Warning: Out of memory\n" );
+					fprintf( stderr, "Warning: Out of memory\n" );
 				else {
 					sp->str = cmt;
 					sp->next = sl; sl = sp;
@@ -649,26 +649,9 @@
 "#\n"
 "#chown $USER /dev/console\n"
 "\n"
-#ifdef _AIX
-"# We create a pseudodevice for finger.  (host:0 becomes xdm/host_0)\n"
-"# Without it, finger errors out with \"Cannot stat /dev/host:0\".\n"
-"#\n"
-"#devname=`echo $DISPLAY | cut -c1-8`\n"
-"#if [ ! -d /dev/xdm ]; then\n"
-"#  mkdir /dev/xdm\n"
-"#  chmod 755 /dev/xdm\n"
-"#fi\n"
-"#touch /dev/xdm/$devname\n"
-"#chmod 644 /dev/xdm/$devname\n"
-"#exec sessreg -a -l xdm/$devname -h \"`echo $DISPLAY | cut -d: -f1`\""
-#else
-"#exec sessreg -a -l $DISPLAY -h \"`echo $DISPLAY | cut -d: -f1`\""
-# ifdef BSD
-" -x " KDMCONF "/Xservers"
-# endif
-#endif /* _AIX */
-" $USER\n"
-"\n# NOTE: The session is aborted if the last command returns non-zero.\n";
+"# XDM configurations typically have sessreg here. KDM has it built-in.\n"
+"\n"
+"# NOTE: The session is aborted if the last command returns non-zero.\n";
 
 static const char def_reset[] =
 "#! /bin/sh\n"
@@ -680,16 +663,7 @@
 "#chown root /dev/console\n"
 "#chmod 622 /dev/console\n"
 "\n"
-#ifdef _AIX
-"#devname=`echo $DISPLAY | cut -c1-8`\n"
-"#exec sessreg -d -l xdm/$devname -h \"`echo $DISPLAY | cut -d: -f1`\""
-#else
-"#exec sessreg -d -l $DISPLAY -h \"`echo $DISPLAY | cut -d: -f1`\""
-# ifdef BSD
-" -x " KDMCONF "/Xservers"
-# endif
-#endif /* _AIX */
-" $USER\n";
+"# XDM configurations typically have sessreg here. KDM has it built-in.\n";
 
 static const char def_session1[] =
 "#! /bin/sh\n"
@@ -1068,7 +1042,7 @@
 
 
 static void
-handleBgCfg( Entry *ce, Section *cs ATTR_UNUSED )
+handleBgCfg( Entry *ce, Section *cs )
 {
 	if (!ce->active) /* can be only the X-*-Greeter one */
 		writeFile( def_BackgroundCfg, 0644, def_background );
@@ -1983,7 +1957,7 @@
 }
 
 static void
-upd_hiddenusers( Entry *ce, Section *cs ATTR_UNUSED )
+upd_hiddenusers( Entry *ce, Section *cs )
 {
 	char *nv;
 	const char *msu, *pt, *et;
@@ -3150,7 +3124,7 @@
 	defminuid = "1000";
 	defmaxuid = "65000";
 #endif
-	for (i = 0; i < CONF_MAX_PRIO; i++)
+	for (i = 0; i <= CONF_MAX_PRIO; i++)
 		for (cs = config; cs; cs = cs->next)
 			for (ce = cs->ents; ce; ce = ce->next)
 				if (ce->spec->func && i == ce->spec->prio)
--- workspace/kdm/README	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/kdm/README	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -46,7 +46,7 @@
 ${kde_datadir} is usually ${prefix}/share/apps
 The indented locations are envisioned for a configuration shared with GDM.
 
-${kde_confdir}/kdm/{kdmrc,Xservers,Xaccess,Xwilling,...}
+${kde_confdir}/kdm/{kdmrc,Xaccess,Xwilling,...}
 ${kde_datadir}/kdm/sessions/*.desktop
   /etc/X11/sessions/,/usr/share/xsessions/
 ${kde_datadir}/kdm/pics/users/
--- workspace/plasma/netbook/containments/sal/services/plasma-sal-graphics.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/containments/sal/services/plasma-sal-graphics.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -109,6 +109,7 @@
 Comment[kk]=Сурет салу және кескінді қарау құралы секілді графикалық  қолданбалар
 Comment[km]=កម្មវិធី​ក្រាហ្វិក ដូ​ចជា​ កម្មវិធី​គូរ និង​កម្មវិធីមើល​រូបភាព
 Comment[ko]=그림 편집기, 뷰어와 같은 그래픽 프로그램
+Comment[lt]=Grafinės programos, tokios, kaip paišymo ar paveikslėlių peržiūros
 Comment[lv]=Grafikas lietotnes, zīmēšanas programmas un attēlu skatītāji
 Comment[mk]=Графички апликации, како што се програми за цртање и прегледувачи на слики
 Comment[ml]=വരയ്ക്കാനും ചിത്രങ്ങള്‍ കാണുന്നതിനും പോലുമുള്ള ഗ്രാഫിക്സ് പ്രയോഗങ്ങള്‍
--- workspace/plasma/netbook/containments/sal/services/plasma-sal-utility.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/containments/sal/services/plasma-sal-utility.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -109,6 +109,7 @@
 Comment[km]=ឧបករណ៍​ប្រើប្រាស់​តូច និង​គ្រឿង​របស់​វា
 Comment[kn]=ಸಣ್ಣ ಸವಲತ್ತುಗಳು ಮತ್ತು ಸಲಕರಣೆಗಳು
 Comment[ko]=작은 유틸리티와 액세서리
+Comment[lt]=Mažos paslaugų ir šalutinės programos
 Comment[lv]=Mazas utilītas un aksesuāri
 Comment[mk]=Мали алатки и додатоци
 Comment[ml]=ചെറിയ ഉപകരണങ്ങള്‍
--- workspace/plasma/netbook/containments/sal/services/plasma-sal-system.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/containments/sal/services/plasma-sal-system.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -111,6 +111,7 @@
 Comment[km]=ចំណូល​ចិត្ត​​ប្រព័ន្ធ និង​រៀបចំ​កម្មវិធី
 Comment[kn]=ವ್ಯವಸ್ಥೆಯ ಆದ್ಯತೆಗಳು ಹಾಗು ಸಿದ್ಧತಾ ಕ್ರಮವಿಧಿಗಳು
 Comment[ko]=시스템 설정 및 관리 프로그램
+Comment[lt]=Sistemos nustatymų ir derinimo programos
 Comment[lv]=Sistēmas iestaījumi un konfigurēšanas programmas
 Comment[ml]=സിസ്റ്റത്തിലെ മുന്‍ഗണനകളും സജ്ജീകരണ പ്രോഗ്രാമുകളും
 Comment[nb]=Systeminnstillinger og oppsettsprogrammer
--- workspace/plasma/netbook/containments/sal/services/plasma-sal-bookmarks.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/containments/sal/services/plasma-sal-bookmarks.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -113,6 +113,7 @@
 Comment[km]=រាយ​ចំណាំ​របស់​អ្នក​ទាំងអស់
 Comment[kn]=ಇರಬಹುದಾದ ಎಲ್ಲಾ ಅಂಕನಗಳನ್ನು(ಬುಕ್ ಮಾರ್ಕ್) ಪಟ್ಟಿ ಮಾಡು
 Comment[ko]=모든 책갈피를 표시합니다
+Comment[lt]=Visų žymelių sąrašas
 Comment[lv]=Parāda visas jūsu grāmatzīmes
 Comment[mk]=Прикажете ги сите ваши обележувачи
 Comment[ml]=എല്ലാ അടയാളക്കുറിപ്പുകളും കാണിയ്ക്കുക
--- workspace/plasma/netbook/containments/sal/services/plasma-sal-internet.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/containments/sal/services/plasma-sal-internet.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -109,6 +109,7 @@
 Comment[km]=កម្មវិធី​ដែលទាក់ទង​នឹង​អ៊ីនធឺណិត ដូចជា​ កម្មវិធី​រុករក​បណ្ដាញ អ៊ីមែល ជជែក
 Comment[kn]=ಜಾಲ ವೀಕ್ಷಕ, ವಿಅಂಚೆ ಹಾಗು ಚಾಟ್‌ನಂತಹ ಅಂತರ್ಜಾಲ ಸಂಬಂಧಿತವಾದ ಅನ್ವಯಗಳು
 Comment[ko]=웹 브라우저, 전자 우편, 채팅과 같은 인터넷 프로그램
+Comment[lt]=Su internetu susijusios programos, tokios kaip naršyklės, e. pašto ar pokalbių
 Comment[lv]=Ar Internetu saistītas lietotnes, tīmekļa pārlūks, e-pasts un tērzēšana
 Comment[mk]=Апликации поврзани со Интернет, како што е веб-прелистување, е-пошта и разговор
 Comment[ml]=ഇന്റര്‍നെറ്റിനോടനുബന്ധിച്ചിട്ടുള്ള പ്രയോഗങ്ങളായ വെബ് ബ്രൌസര്‍, ഈമെയില്‍, സല്ലാപം മുതലായവ
--- workspace/plasma/netbook/containments/sal/services/plasma-sal-multimedia.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/containments/sal/services/plasma-sal-multimedia.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -110,6 +110,7 @@
 Comment[kk]=Аудио және видео плейер секілді мультимедиа қолданбалар
 Comment[km]=កម្មវិធី​​ពហុ​មេឌៀ ដូច​ជា កម្មវិធី​ចាក់​អូឌីយ៉ូ និង​វីដេអូ
 Comment[ko]=오디오 및 비디오 재생기와 같은 멀티미디어 프로그램
+Comment[lt]=Daugialypės terpės programos, tokios kaip audio ir video leistuvai
 Comment[lv]=Multivides lietotnes, audio un video atskaņotāji
 Comment[mk]=Мултимедијални апликации, како што се аудио и видео плеери
 Comment[ml]=മള്‍ട്ടീമീഡിയാ പ്രയോഗങ്ങളായ: ഓഡിയോ, വീഡിയോ പ്ലയറുകള്‍ മുതലായവ
--- workspace/plasma/netbook/containments/sal/services/plasma-sal-education.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/containments/sal/services/plasma-sal-education.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -106,6 +106,7 @@
 Comment[km]=កម្មវិធីអប់រំ
 Comment[kn]=ಕಲಿಕೆಯ ಆನ್ವಯಗಳು
 Comment[ko]=교육 프로그램
+Comment[lt]=Mokomosios programos
 Comment[lv]=Izglītības programmas
 Comment[mk]=Едукативни апликации
 Comment[ml]=വിദ്യഭ്യാസ പ്രയോഗങ്ങള്‍
--- workspace/plasma/netbook/containments/sal/services/plasma-sal-office.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/containments/sal/services/plasma-sal-office.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -109,6 +109,7 @@
 Comment[kk]=Мәтін өңдегіші мен электрондық кесте секілді Офисіне қатысты қолданбалар
 Comment[km]=ការ​រិយាល័យ​ដែល​ទាក់ទង​នឹង​កម្មវិធី ដូច​ជាកម្មវិធី​វាយ​អត្ថបទ និង​សៀវភៅ​បញ្ជី
 Comment[ko]=워드프로세서, 스프레드시트와 같은 사무용 프로그램
+Comment[lt]=Biuro programos, tokios, kaip tekstų rinkimo ir elektroninių lentelių
 Comment[lv]=Biroja lietotnes, tekstapstrādes un izklājlapu programmas
 Comment[mk]=Канцелариски апликации, како што е обработка на текст и табеларни пресметки
 Comment[ml]=ആപ്പീസുമായി ബന്ധപ്പെട്ട പ്രയോഗങ്ങളായ വേര്‍ഡ് പ്രൊസസ്സര്‍, സ്പ്രെഡ് ഷീറ്റ് മുതലായവ
--- workspace/plasma/netbook/containments/sal/services/plasma-sal-games.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/containments/sal/services/plasma-sal-games.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -114,6 +114,7 @@
 Comment[km]=បណ្ដុំ​ល្បែង​កំសាន្ត​ជា​ច្រើន
 Comment[kn]=ಮನೋರಂಜನಾ ಆಟಗಳ ಸಂಗ್ರಹ
 Comment[ko]=재미있는 게임 모음
+Comment[lt]=Linksmų žaidimų rinkinys
 Comment[lv]=Jautru spēļu krājums
 Comment[mk]=Колекција од забавни игри
 Comment[ml]=തമാശയുള്ള കളികളുടെ ശേഖരം
--- workspace/plasma/netbook/containments/sal/services/plasma-sal-contacts.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/containments/sal/services/plasma-sal-contacts.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -24,6 +24,7 @@
 Name[km]=ទំនាក់ទំនង
 Name[kn]=ಸಂಪರ್ಕ ವಿಳಾಸಗಳು
 Name[ko]=연락처
+Name[lt]=Kontaktai
 Name[lv]=Kontakti
 Name[mk]=Контакти
 Name[ml]=വിലാസങ്ങള്‍
@@ -71,12 +72,14 @@
 Comment[hi]=अपने सभी संपर्क दिखाएँ
 Comment[hr]=Izlistaj sve vaše kontekte
 Comment[id]=Tampilkan semua kontak anda
+Comment[is]=Listar alla tengiliðina þína
 Comment[it]=Elenca tutti i contatti
 Comment[ja]=すべての連絡先を一覧表示します
 Comment[kk]=Контакттарыңыздың тізімі
 Comment[km]=រាយ​ទំនាក់ទំនង​របស់​អ្នក​ទាំងអស់​
 Comment[kn]=ನಿಮ್ಮ ಎಲ್ಲಾ ಸಂಪರ್ಕಗಳನ್ನು ಪಟ್ಟಿ ಮಾಡು
 Comment[ko]=모든 연락처를 표시합니다
+Comment[lt]=Visų kontaktų sąrašas
 Comment[lv]=Parāda visus jūsu kontaktus
 Comment[mk]=Прикажете ги сите Ваши контакти
 Comment[ml]=നിങ്ങളുടെ എല്ലാ വിലാസങ്ങളും കാണിയ്ക്കുക
--- workspace/plasma/netbook/containments/sal/plasma-sal-menu.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/containments/sal/plasma-sal-menu.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -23,6 +23,7 @@
 Name[kk]=Plasma іздеу және жегу мәзірі
 Name[km]=ស្វែងរក​ប្លាស្មា ហើយ​ចាប់ផ្ដើម​ម៉ឺនុយ
 Name[ko]=Plasma 찾아서 실행 메뉴
+Name[lt]=Plazmos paieškos ir komandų leidimo meniu
 Name[lv]=Plasma meklēšanas un palaišanas izvēlne
 Name[mk]=Мени за Пребарување и стартување преку Плазма
 Name[ml]=പ്ലാസ്മയിലെ തെരയാനും തുടങ്ങാനുമുള്ള മെനു
@@ -69,6 +70,7 @@
 Comment[kk]=Plasma-да іздеу және жегуді орындайтын мәзірі
 Comment[km]=ធាតុ​ម៉ឺនុយ​សម្រាប់​កា​រស្វែងរក​ប្លាស្មា និង​​ចាប់ផ្ដើម​សកម្មភាព
 Comment[ko]=Plasma 찾아서 실행 활동을 위한 메뉴 항목
+Comment[lt]=Plazmos meniu įrašas, skirtas paieškai ir programų paleidimui
 Comment[lv]=Izvēlnes ieraksts Plasma meklēšanas un palaišanas nodarbei
 Comment[mk]=Ставка од мени за активноста „Пребарување и стартување преку Плазма“
 Comment[ml]=പ്ലാസ്മാ തെരച്ചില്‍ വിക്ഷേപണ പ്രവര്‍ത്തനങ്ങള്‍ക്കുള്ള മെനുവിലെ വരി
--- workspace/plasma/netbook/shell/plasma-netbook.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/shell/plasma-netbook.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -19,6 +19,7 @@
 Name[he]=‏Plasma ל־Netbook
 Name[hr]=Plasma Netbook
 Name[id]=Plasma Komputer Mini
+Name[is]=Plasma netbók (netbook)
 Name[it]=Ultraportatile Plasma
 Name[kk]=Нетбукке арналған Plasma
 Name[km]=ប្លាស្មា Netbook
--- workspace/plasma/netbook/applets/currentappcontrol/plasma-applet-currentappcontrol.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/applets/currentappcontrol/plasma-applet-currentappcontrol.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -64,6 +64,7 @@
 Comment[he]=שליטה עבור החלון הפעיל
 Comment[hr]=Kontrole aktivnog prozora
 Comment[id]=Kontrol untuk jendela aktif
+Comment[is]=Stillingar virka gluggans
 Comment[it]=Controlli per la finestra attiva
 Comment[kk]=Белсенді терезені басқару
 Comment[km]=ការត្រួតពិនិត្យ​សម្រាប់​បង្អួច​សកម្ម
--- workspace/plasma/netbook/applets/searchbox/plasma-applet-searchbox.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/netbook/applets/searchbox/plasma-applet-searchbox.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -71,7 +71,7 @@
 Comment[km]=ប្រអប់​ស្វែងរក​សម្រាប់​កម្មវិធី​គ្រប់គ្រង​របស់​កម្មវិធី​ដែលបាន​ផ្ដល់
 Comment[kn]=ಒದಗಿಸಲಾದ RunnerManager ಗಾಗಿನ ಹುಡುಕು ಚೌಕ
 Comment[ko]=주어진 실행기 관리자를 위한 검색 상자
-Comment[lt]=Paieškos laukas nurodytam Leistuvo tvarkikliui
+Comment[lt]=Paieškos laukas nurodytam bėgtuko tvarkikliui
 Comment[lv]=Meklēšanas lodziņš dotam RunnerManager
 Comment[ml]=റണ്ണര്‍മാനേജറിനു് വേണ്ടിയുള്ള തെരച്ചില്‍ പെട്ടി
 Comment[nb]=Søkeboks for en gitt RunnerManager
--- workspace/plasma/desktop/shell/data/plasma-desktop.notifyrc	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/desktop/shell/data/plasma-desktop.notifyrc	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -18,6 +18,7 @@
 Comment[he]=מעטפת שולחן העבודה Plasma
 Comment[hr]=Radno površinska ljuska Plasme
 Comment[id]=Shell Desktop Plasma
+Comment[is]=Plasma skjáborðsskel
 Comment[it]=Shell del desktop di Plasma
 Comment[kk]=Plasma үстел қоршау-ортасы
 Comment[km]=សែល​ផ្ទៃតុ​ប្លាស្មា
@@ -121,6 +122,7 @@
 Name[he]=ווידג'ט חדש הופץ
 Name[hr]=Novi widget je objavljen
 Name[id]=Widget baru diterbitkan
+Name[is]=Ný græja gefin út
 Name[it]=Nuovo oggetto pubblicato
 Name[kk]=Жаңа виджет жарияланды
 Name[km]=បានបោះពុម្ព​ផ្សាយ​ធាតុ​ក្រាហ្វិក​ថ្មី
--- workspace/plasma/desktop/shell/panelview.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/desktop/shell/panelview.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -57,8 +57,6 @@
     {
         setAttribute(Qt::WA_TranslucentBackground);
         KWindowSystem::setOnAllDesktops(winId(), true);
-        unsigned long state = NET::Sticky;
-        KWindowSystem::setState(winId(), state);
         KWindowSystem::setType(winId(), NET::Dock);
         m_svg->setImagePath("widgets/glowbar");
 
@@ -414,44 +412,30 @@
 
 void PanelView::setVisibilityMode(PanelView::VisibilityMode mode)
 {
-    unsigned long state = NET::Sticky;
+    m_visibilityMode = mode;
 
-    delete m_mousePollTimer;
-    m_mousePollTimer = 0;
-    delete m_glowBar;
-    m_glowBar = 0;
-
     if (mode == LetWindowsCover) {
-        createUnhideTrigger();
-        state |= NET::KeepBelow;
+        KWindowSystem::setState(winId(), NET::KeepBelow);
     } else {
-        //kDebug() << "panel shouldn't let windows cover it!";
         KWindowSystem::clearState(winId(), NET::KeepBelow);
     }
+    //life is vastly simpler if we ensure we're visible now
+    unhide();
 
+    disconnect(containment(), SIGNAL(activate()), this, SLOT(unhide()));
     if (mode == NormalPanel || mode == WindowsGoBelow) {
-        // we need to kill the input window if it exists!
-        destroyUnhideTrigger();
-        disconnect(containment(), SIGNAL(activate()), this, SLOT(unhide()));
+        //remove the last remnants of hide/unhide
+        delete m_mousePollTimer;
+        m_mousePollTimer = 0;
     } else {
         connect(containment(), SIGNAL(activate()), this, SLOT(unhide()));
     }
 
-    if (mode == AutoHide) {
-        hideMousePoll();
-    } else {
-        updatePanelGeometry();
-        show();
-    }
-
-    //kDebug() << "panel state set to" << state << NET::Sticky;
-    KWindowSystem::setState(winId(), state);
-    KWindowSystem::setOnAllDesktops(winId(), true);
-
-    m_visibilityMode = mode;
     config().writeEntry("panelVisibility", (int)mode);
 
+    //if the user didn't cause this, hide again in a bit
     if ((mode == AutoHide || mode == LetWindowsCover) && !m_editting) {
+        m_mousePollTimer->stop();
         QTimer::singleShot(2000, this, SLOT(startAutoHide()));
     }
 }
@@ -890,6 +874,7 @@
     }
 }
 
+//FIXME "editing"
 void PanelView::edittingComplete()
 {
     //kDebug();
@@ -904,10 +889,10 @@
 
     containment()->closeToolBox();
     updateStruts();
-    m_firstPaint = true; // triggers autohide
+    m_firstPaint = true; // triggers autohide FIXME does not! delete this var.
 
-    if (m_visibilityMode == LetWindowsCover) {
-         startAutoHide();
+    if (m_visibilityMode == LetWindowsCover || m_visibilityMode == AutoHide) {
+         hideMousePoll();
     }
 }
 
@@ -1104,6 +1089,7 @@
     }
 }
 
+//FIXME that's a confusing function name
 void PanelView::hideMousePoll()
 {
     QPoint mousePos = QCursor::pos();
@@ -1113,6 +1099,7 @@
     }
 }
 
+//FIXME that's a confusing function name
 void PanelView::unhideHintMousePoll()
 {
 #ifdef Q_WS_X11
@@ -1180,6 +1167,7 @@
 #endif
 }
 
+//FIXME that's a confusing function name
 void PanelView::unhintHide()
 {
     //kDebug() << "hide the glow";
@@ -1211,34 +1199,36 @@
 
 void PanelView::unhide(bool destroyTrigger)
 {
-    //kDebug() << destroyTrigger;
+    //kill the unhide stuff
     unhintHide();
     if (destroyTrigger) {
         destroyUnhideTrigger();
     }
 
+    //ensure it's visible
+    if (! isVisible()) {
+        Plasma::WindowEffects::slideWindow(this, location());
+        show();
+        KWindowSystem::setOnAllDesktops(winId(), true);
+    }
+
+    //non-hiding panels stop here
+    if (m_visibilityMode == NormalPanel || m_visibilityMode == WindowsGoBelow) {
+        return;
+    }
+
+    //set up the re-hiding stuff
     if (!m_mousePollTimer) {
         m_mousePollTimer = new QTimer(this);
     }
-
+    //FIXME investigate whether the mouse poll is really needed all the time or if leave events are
+    //good enough
+    //welll, if we didn't create it here something would have to when a popup dies
     disconnect(m_mousePollTimer, SIGNAL(timeout()), this, SLOT(hideMousePoll()));
     connect(m_mousePollTimer, SIGNAL(timeout()), this, SLOT(hideMousePoll()));
     m_mousePollTimer->start(200);
 
-    QRect screenRect = Kephal::ScreenUtils::screenGeometry(screen());
-
-
-    if (m_visibilityMode == AutoHide || m_visibilityMode == LetWindowsCover) {
-        // LetWindowsCover panels are always shown, so don't bother and prevent
-        // some unsightly flickers
-        Plasma::WindowEffects::slideWindow(this, location());
-        show();
-    }
-
-    KWindowSystem::setOnAllDesktops(winId(), true);
-    unsigned long state = NET::Sticky;
-    KWindowSystem::setState(winId(), state);
-
+    //avoid hide-show loops
     if (m_visibilityMode == LetWindowsCover) {
         m_triggerEntered = true;
         KWindowSystem::raiseWindow(winId());
@@ -1276,7 +1266,7 @@
 void PanelView::leaveEvent(QEvent *event)
 {
     if (m_visibilityMode == LetWindowsCover && m_triggerEntered) {
-        //kDebug() << "not creating!";
+        //this prevents crazy hide-unhide loops that can happen at times
         m_triggerEntered = false;
     } else if (containment() &&
                (m_visibilityMode == AutoHide || m_visibilityMode == LetWindowsCover) && !m_editting) {
--- workspace/plasma/desktop/applets/windowlist/plasma-applet-windowlist.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/desktop/applets/windowlist/plasma-applet-windowlist.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -16,12 +16,14 @@
 Name[he]=רשימת חלונות
 Name[hr]=Lista prozora
 Name[id]=Senarai Jendela
+Name[is]=Gluggalisti
 Name[it]=Elenco delle finestre
 Name[ja]=ウィンドウ一覧
 Name[kk]=Терезелер тізімі
 Name[km]=បញ្ជី​បង្អួច
 Name[kn]=ವಿಂಡೊ ಪಟ್ಟಿ
 Name[ko]=창 목록
+Name[lt]=Langų sąrašas
 Name[lv]=Logu saraksts
 Name[mk]=Листа со прозорци
 Name[ml]=ജാലകങ്ങളുടെ പട്ടിക
@@ -69,6 +71,7 @@
 Comment[kk]=Ашылған терезелер тізімін көрсететін плазмоид.
 Comment[km]=Plasmoid ត្រូវ​បង្ហាញ​បញ្ជី​បង្អួច​​ដែល​បា​ន​បើក ។
 Comment[ko]=열린 창 목록을 보여주는 Plasmoid.
+Comment[lt]=Atvertų langų sąrašą rodantis plazmoidas.
 Comment[lv]=Plazmoīds, kas rāda atvērto logu sarakstu.
 Comment[mk]=Плазмоид за прикажување листа од отворените прозорци
 Comment[ml]=തുറന്ന ജാലകങ്ങളുടെ പട്ടിക കാണിയ്ക്കാനുള്ള പ്ലാസ്മോയിഡ്
--- workspace/plasma/desktop/applets/tasks/taskgroupitem.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/desktop/applets/tasks/taskgroupitem.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -600,6 +600,18 @@
     AbstractTaskItem::mouseReleaseEvent(event);
 }
 
+void TaskGroupItem::handleActiveWindowChanged(WId id)
+{
+    if (!m_popupDialog) {
+        return;
+    }
+    if (id == m_popupDialog->winId()) {
+        return;
+    }
+
+    m_popupDialog->hide();
+}
+
 void TaskGroupItem::popupMenu()
 {
     //kDebug();
@@ -631,7 +643,7 @@
         KWindowSystem::setType(m_popupDialog->winId(), NET::PopupMenu);
         m_popupDialog->setAttribute(Qt::WA_X11NetWmWindowTypeDock);
         connect(m_popupDialog, SIGNAL(dialogVisible(bool)), m_applet, SLOT(setPopupDialog(bool)));
-        connect(KWindowSystem::self(), SIGNAL(activeWindowChanged(WId)), m_popupDialog, SLOT(hide()));
+        connect(KWindowSystem::self(), SIGNAL(activeWindowChanged(WId)), this, SLOT(handleActiveWindowChanged(WId)));
         KWindowSystem::setState(m_popupDialog->winId(), NET::SkipTaskbar| NET::SkipPager);
         m_popupDialog->setWindowFlags(Qt::FramelessWindowHint | Qt::WindowStaysOnTopHint);
         //TODO in the future it may be possible to use the Qt::Popup flag instead of the eventFilter, but for now the focus works better with the eventFilter
@@ -666,7 +678,6 @@
         m_offscreenWidget->layout()->activate();
         m_offscreenWidget->resize(m_offscreenWidget->effectiveSizeHint(Qt::PreferredSize));
         m_popupDialog->raise();
-        KWindowSystem::activateWindow(m_popupDialog->winId());
         //kDebug() << m_popupDialog->size() << m_tasksLayout->size();
     }
 }
--- workspace/plasma/desktop/applets/tasks/taskgroupitem.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/desktop/applets/tasks/taskgroupitem.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -158,6 +158,7 @@
 private Q_SLOTS:
     void constraintsChanged(Plasma::Constraints);
     void clearPopupLostFocus();
+    void handleActiveWindowChanged(WId id);
 
     void updateTask(::TaskManager::TaskChanges changes);
 
--- workspace/plasma/desktop/runners/plasma-desktop/plasma-runner-plasma-desktop.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/desktop/runners/plasma-desktop/plasma-runner-plasma-desktop.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -17,6 +17,7 @@
 Name[he]=מעטפת שולחן העבודה Plasma
 Name[hr]=Plasma ljuska radne površine
 Name[id]=Shell Desktop Plasma
+Name[is]=Plasma skjáborðsskel
 Name[it]=Shell del desktop di Plasma
 Name[kk]=Plasma үстел ортасы
 Name[km]=សែល​ផ្ទៃតុ​ប្លាស្មា
--- workspace/plasma/generic/containmentactions/minimalcontextmenu/plasma-containmentactions-minimalcontextmenu.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/containmentactions/minimalcontextmenu/plasma-containmentactions-minimalcontextmenu.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -13,9 +13,11 @@
 Name[hi]=न्युतम मीनु
 Name[hr]=Minimalni izbornik
 Name[id]=Menu Minimal
+Name[is]=Minnsta valmynd
 Name[it]=Menu minimo
 Name[kk]=Minimal Menu
 Name[km]=ម៉ឺនុយ​អប្បបរមា
+Name[lt]=Minimalistinis meniu
 Name[lv]=Minimāla izvēlne
 Name[mk]=Минимално мени
 Name[nb]=Minimal meny
--- workspace/plasma/generic/containmentactions/contextmenu/plasma-containmentactions-contextmenu.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/containmentactions/contextmenu/plasma-containmentactions-contextmenu.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -17,12 +17,14 @@
 Name[hi]=मानक मीनु
 Name[hr]=Standardni izbornik
 Name[id]=Menu Standar
+Name[is]=Staðalvalmynd
 Name[it]=Menu standard
 Name[ja]=標準メニュー
 Name[kk]=Стандартты мәзір
 Name[km]=ម៉ឺនុយ​ស្តង់ដារ
 Name[kn]=ಶಿಷ್ಟ ಪರಿವಿಡಿ
 Name[ko]=표준 메뉴
+Name[lt]=Standartinis meniu
 Name[lv]=Konteksta izvēlne
 Name[mk]=Стандардно мени
 Name[ml]=സ്റ്റാന്‍ഡര്‍ഡ് മെനു
--- workspace/plasma/generic/containmentactions/switchdesktop/plasma-containmentactions-switchdesktop.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/containmentactions/switchdesktop/plasma-containmentactions-switchdesktop.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -17,6 +17,7 @@
 Name[he]=החלף שולחן עבודה
 Name[hr]=Prebaci radnu površinu
 Name[id]=Pindah Desktop
+Name[is]=Skipta um skjáborð
 Name[it]=Cambia desktop
 Name[ja]=デスクトップを切り替え
 Name[kk]=Жұмыс үстелді ауыстыру
--- workspace/plasma/generic/containmentactions/switchactivity/plasma-containmentactions-switchactivity.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/containmentactions/switchactivity/plasma-containmentactions-switchactivity.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -16,6 +16,7 @@
 Name[he]=הראה פעילות
 Name[hr]=Prebaci aktivnost
 Name[id]=Aktivitas Pindah
+Name[is]=Skipta um virkni
 Name[it]=Cambia attività
 Name[ja]=アクティビティを切り替え
 Name[kk]=Белсенділікті ауыстру
@@ -68,6 +69,7 @@
 Comment[he]=עבור לפעילות אחרת
 Comment[hr]=Prebaci na drugu aktivnost
 Comment[id]=Pindah ke aktivitas lain
+Comment[is]=Skipta í aðra virkni
 Comment[it]=Passa ad un'altra attività
 Comment[ja]=他のアクティビティに切り替えます
 Comment[kk]=Басқа белсенділігіне ауысу
--- workspace/plasma/generic/dataengines/weather/plasma-dataengine-weather.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/dataengines/weather/plasma-dataengine-weather.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -94,7 +94,7 @@
 Comment[hu]=Időjárás-jelentés több forrásból
 Comment[id]=Data cuaca dari berbagai sumber daring
 Comment[is]=Veðurgögn frá ýmsum gagnabönkum á netinu
-Comment[it]=Dati metereologici da varie fonti in rete
+Comment[it]=Dati meteorologici da varie fonti in rete
 Comment[ja]=複数のオンライン情報源からの気象データ
 Comment[kk]=Түрлі онлайн көздерден алынған ауа-райы
 Comment[km]=ទិន្នន័យ​អាកាសធាតុ​ពី​ប្រភព​លើបណ្ដាញ​ជា​ច្រើន
--- workspace/plasma/generic/dataengines/weather/ions/wetter.com/ion-wettercom.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/dataengines/weather/ions/wetter.com/ion-wettercom.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -16,11 +16,13 @@
 Name[hi]=wetter.com
 Name[hr]=wetter.com
 Name[id]=wetter.com
+Name[is]=wetter.com
 Name[it]=wetter.com
 Name[kk]=wetter.com
 Name[km]=wetter.com
 Name[kn]=wetter.com
 Name[ko]=wetter.com
+Name[lt]=wetter.com
 Name[lv]=wetter.com
 Name[mk]=wetter.com
 Name[ml]=വെറ്റര്‍.കൊം
@@ -62,11 +64,13 @@
 Comment[hi]=wetter.com द्वारा मोसम पूर्वानुमान
 Comment[hr]=Prognoza vremena s wetter.com
 Comment[id]=Ramalan cuaca oleh wetter.com
+Comment[is]=Veðurspá frá wetter.com
 Comment[it]=Previsioni del tempo di wetter.com
 Comment[kk]=wetter.com дегеннің ауа райы болжамы.
 Comment[km]=ព្យាករណ៍​អាកាស​ធាតុ​ដោយ wetter.com
 Comment[kn]=wetter.com ನಿಂದ ಹವಾಮಾನ ಮುನ್ಸೂಚನೆ
 Comment[ko]=wetter.com 일기예보
+Comment[lt]=Orų prognozės iš wetter.com
 Comment[lv]=wetter.com laikapstākļu prognoze
 Comment[mk]=Временска прогноза од wetter.com
 Comment[ml]=വെറ്റര്‍.കോമിന്റെ കാലാവസ്ഥാ പ്രവചനം
--- workspace/plasma/generic/dataengines/weather/ions/bbcukmet/ion-bbcukmet.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/dataengines/weather/ions/bbcukmet/ion-bbcukmet.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -28,7 +28,7 @@
 Name[hu]=BBC időjárási adatok (UK MET)
 Name[id]=BBC Weather dari UK MET Office
 Name[is]=BBC veður frá UK MET stofnuninni
-Name[it]=Meteo BBC dall'ufficio metereologico UK MET
+Name[it]=Meteo BBC dall'ufficio meteorologico UK MET
 Name[ja]=英国 Met Office の BBC Weather
 Name[kk]=UK MET Оффистің BBC ауа райы болжамы
 Name[km]=អាកាសធាតុ BBC ពី​ការិយាល័យ UK MET
@@ -99,7 +99,7 @@
 Comment[hu]=XML adatok a UK MET intézettől
 Comment[id]=Data XML dari UK MET Office
 Comment[is]=XML veðurgögn frá UK MET stofnuninni
-Comment[it]=Dati XML dall'ufficio metereologico UK MET
+Comment[it]=Dati XML dall'ufficio meteorologico UK MET
 Comment[ja]=英国 Met Office の XML データ
 Comment[kk]=UK MET Оффистің XML дерегі
 Comment[km]=ទិន្នន័យ XML ពី​ការិយាល័យ UK MET
--- workspace/plasma/generic/dataengines/weather/ions/noaa/ion-noaa.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/dataengines/weather/ions/noaa/ion-noaa.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -27,7 +27,7 @@
 Name[hu]=NOAA időjárásjelző szolgálat
 Name[id]=NOAA's National Weather Service
 Name[is]=NOAA Veðurþjónustan
-Name[it]=Servizio metereologico nazionale del NOAA
+Name[it]=Servizio meteorologico nazionale del NOAA
 Name[ja]=NOAA (アメリカ海洋大気圏局) National Weather Service
 Name[kk]=NOAA Ұлттық ауа райы қызметі
 Name[km]=សេវា​អាកាសធាតុ​ជាតិ​របស់ NOAA
@@ -95,7 +95,7 @@
 Comment[hu]=XML adatok a NOAA időjárásjelző szolgálattól
 Comment[id]=Data XML dari NOAA's National Weather Service
 Comment[is]=XML gögn frá NOAA Veðurþjónustunni
-Comment[it]=Dati XML dal servizio metereologico nazionale del NOAA
+Comment[it]=Dati XML dal servizio meteorologico nazionale del NOAA
 Comment[ja]=NOAA (アメリカ海洋大気圏局) National Weather Service の XML データ
 Comment[kk]=NOAA Ұлттық ауа райы қызметінің XML дерегі
 Comment[km]=ទិន្នន័យ XML ពី​សេវា​អាកាសធាតុ​ជាតិ​របស់ NOAA
--- workspace/plasma/generic/dataengines/geolocation/location_gps.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/dataengines/geolocation/location_gps.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -41,7 +41,7 @@
 
 void Gpsd::run()
 {
-#if GPSD_API_MAJOR_VERSION == 3 && defined( WATCH_ENABLE )
+#if defined( GPSD_API_MAJOR_VERSION ) && ( GPSD_API_MAJOR_VERSION >= 3 ) && defined( WATCH_ENABLE )
     gps_stream(m_gpsdata, WATCH_ENABLE, NULL);
 #else
     gps_query(m_gpsdata, "w+x\n");
--- workspace/plasma/generic/dataengines/geolocation/CMakeLists.txt	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/dataengines/geolocation/CMakeLists.txt	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -49,7 +49,7 @@
 find_package(libgps)
 macro_log_feature(LIBGPS_FOUND "libgps" "GPS support for geolocation" "http://gpsd.berlios.de/" FALSE "" "")
 if(LIBGPS_FOUND)
-    include_directories(${LIBGPS_INCLUDES})
+    include_directories(${LIBGPS_INCLUDES} ${LIBGPS_INCLUDE_DIR})
     set(plasma_geolocation_gps_SRCS location_gps.cpp)
     kde4_add_plugin(plasma-geolocation-gps ${plasma_geolocation_gps_SRCS})
     target_link_libraries(plasma-geolocation-gps plasma-geolocation-interface ${LIBGPS_LIBRARIES})
--- workspace/plasma/generic/dataengines/apps/plasma-dataengine-apps.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/dataengines/apps/plasma-dataengine-apps.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -18,6 +18,7 @@
 Name[he]=מידע יישום
 Name[hr]=Informacije o aplikacijama
 Name[id]=Informasi Aplikasi
+Name[is]=Upplýsingar um forrit
 Name[it]=Informazioni sulle applicazioni
 Name[ja]=アプリケーションの情報
 Name[kk]=Қолданбаның ақпараты
--- workspace/plasma/generic/dataengines/notifications/notificationsengine.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/dataengines/notifications/notificationsengine.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -211,6 +211,7 @@
         m_sourceTimers.remove(source);
         m_timeouts.remove(event->timerId());
         removeSource(source);
+        emit NotificationClosed(source.split(" ").last().toInt(), 1);
         return;
     }
 
@@ -220,9 +221,15 @@
 void NotificationsEngine::CloseNotification(uint id)
 {
     removeSource(QString("notification %1").arg(id));
-    emit NotificationClosed(id, 0);
+    emit NotificationClosed(id, 3);
 }
 
+void NotificationsEngine::userClosedNotification(uint id)
+{
+    removeSource(QString("notification %1").arg(id));
+    emit NotificationClosed(id, 2);
+}
+
 Plasma::Service* NotificationsEngine::serviceForSource(const QString& source)
 {
     return new NotificationService(this, source);
--- workspace/plasma/generic/dataengines/notifications/notificationaction.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/dataengines/notifications/notificationaction.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -48,7 +48,7 @@
         //kDebug() << "invoking action on " << id;
         emit m_engine->ActionInvoked(id, parameters()["actionId"].toString());
     } else if (operationName() == "userClosed") {
-        m_engine->CloseNotification(id);
+        m_engine->userClosedNotification(id);
     }
 
     emitResult();
--- workspace/plasma/generic/dataengines/notifications/notificationsengine.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/dataengines/notifications/notificationsengine.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -53,6 +53,8 @@
 
     QString GetServerInformation(QString& vendor, QString& version, QString& specVersion);
 
+    void userClosedNotification(uint id);
+
 signals:
     void NotificationClosed( uint id, uint reason );
     void ActionInvoked( uint id, const QString& actionKey );
--- workspace/plasma/generic/applets/devicenotifier/deviceitem.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/applets/devicenotifier/deviceitem.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -92,12 +92,13 @@
     m_nameLabel->setSizePolicy(QSizePolicy::MinimumExpanding, QSizePolicy::Fixed);
     m_nameLabel->setPreferredWidth(0);
     m_nameLabel->nativeWidget()->setWordWrap(false);
+    m_nameLabel->setAcceptedMouseButtons(0);
 
     m_descriptionLabel = new Plasma::Label(this);
     m_descriptionLabel->setSizePolicy(QSizePolicy::MinimumExpanding, QSizePolicy::Fixed);
     m_descriptionLabel->setPreferredWidth(0);
     m_descriptionLabel->nativeWidget()->setWordWrap(false);
-    m_descriptionLabel->setAttribute(Qt::WA_TransparentForMouseEvents, true);
+    m_descriptionLabel->setAcceptedMouseButtons(0);
     QFont font = m_descriptionLabel->font();
     font.setPointSize(KGlobalSettings::smallestReadableFont().pointSize());
     font.setItalic(true);
--- workspace/plasma/generic/applets/systemtray/statusnotifierwatcher/statusnotifierwatcher.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/applets/systemtray/statusnotifierwatcher/statusnotifierwatcher.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -16,11 +16,13 @@
 Name[he]=מעקב אחר מצב KDED
 Name[hr]=KDED nadglednik obavijesti
 Name[id]=Pengawas Notifikasi Status KDED
+Name[is]=Vísir fyrir KDED tilkynningaþjón
 Name[it]=Guardia delle notifiche di stato di KDED
 Name[kk]=KDED күй-жайы туралы құлақтандыру бақылауышы
 Name[km]=កម្មវិធី​ប្ដូរ​នៃ​កម្មវិធីជូន​ដំណឹង​ស្ថានភាព​របស់ KDED
 Name[kn]=KDED ಸ್ಥಿತಿ ಸೂಚನಾ ನೋಡುಗ(ವಾಚರ್)
 Name[ko]=KDED 상태 알림 감시기
+Name[lt]=KDED būsenos pranešimų stebėklis
 Name[lv]=KDE statusa paziņojumu novērotājs
 Name[ml]=കെഡിഇഡി അവസ്ഥ അറിയിപ്പുകളുടെ നിരീക്ഷകന്‍
 Name[nb]=KDED-overvåker for statusvarsler
@@ -65,6 +67,7 @@
 Comment[km]=តាមដាន​កម្មវិធី​ដែល​ចង់​ឲ្យ​ប្រើធាតុ​​ជូនដំណឹង​ដែល​មាន​មូលដ្ឋាន​លើ D-Bus
 Comment[kn]=ಡಿ-ಬಸ್ ಆಧಾರಿತ ಸ್ಥಿತಿ ಸೂಚನಾ ಪ್ರೊಟೊಕಾಲ್ ಅನ್ನು ಬಳಸಲು ಬಯಸುವ ಅನ್ವಯಗಳ ಜಾಡನ್ನು ಇರಿಸಿ.
 Comment[ko]=D-Bus 기반 상태 알림 프로토콜을 사용하는 프로그램을 추적합니다.
+Comment[lt]=Seka ir registruoja programas, norinčias naudoti D-Bus paremtą perspėjimo protokolą.
 Comment[lv]=Novēro programmas, kas vēlas izmantot D-Bus balstītos paziņojumus.
 Comment[ml]=ഡി-ബസ് അടിസ്ഥാനമാക്കിയുള്ള അവസ്ഥ അറിയിയ്ക്കുന്നതിനുള്ള കീഴ്‌വഴക്കം ഉപയോഗിയ്ക്കാന്‍ ആവശ്യപ്പെടുന്ന പ്രയോഗങ്ങളെ നിരീക്ഷിക്കുക.
 Comment[nb]=Hold styr på programmer som vil bruke den D-Bus-baserte protokollen for statusvarsling.
--- workspace/plasma/generic/applets/systemtray/protocols/notifications/dbusnotificationprotocol.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/applets/systemtray/protocols/notifications/dbusnotificationprotocol.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -161,6 +161,10 @@
 
 void DBusNotificationProtocol::notificationDeleted(const QString &source)
 {
+    Plasma::Service *service = m_engine->serviceForSource(source);
+    KConfigGroup op = service->operationDescription("userClosed");
+    service->startOperationCall(op);
+
     m_notifications.remove(source);
 }
 
--- workspace/plasma/generic/applets/systemtray/core/notification.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/applets/systemtray/core/notification.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -200,6 +200,12 @@
     emit expired(this);
 }
 
+//temporary bug fix only for 4.4
+void Notification::show()
+{
+    d->expired = false;
+}
+
 bool Notification::isExpired() const
 {
     return d->expired;
--- workspace/plasma/generic/applets/systemtray/core/notification.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/applets/systemtray/core/notification.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -61,6 +61,7 @@
 public slots:
     virtual void triggerAction(const QString &actionId);
     virtual void remove();
+    void show();
     void hide();
 
 signals:
--- workspace/plasma/generic/applets/systemtray/ui/applet.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/applets/systemtray/ui/applet.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -787,6 +787,7 @@
     connect(notification, SIGNAL(notificationDestroyed(SystemTray::Notification *)), this, SLOT(notificationDestroyed(SystemTray::Notification *)));
 
     connect(notification, SIGNAL(expired(SystemTray::Notification *)), this, SLOT(notificationExpired(SystemTray::Notification *)));
+    connect(notification, SIGNAL(changed(SystemTray::Notification *)), this, SLOT(notificationChanged(SystemTray::Notification *)));
 
     if (notification->isRead()) {
         extenderItem->setCollapsed(true);
@@ -795,6 +796,30 @@
     return notificationWidget;
 }
 
+void Applet::notificationChanged(SystemTray::Notification *notification)
+{
+    //temporary bug solutiononly for 4.4
+    notification->show();
+
+    if (m_notificationBar) {
+        int tab = 0;
+        for (int i = 0; i < m_notificationBar.data()->count(); ++i) {
+            if (m_notificationBar.data()->tabText(i) == notification->applicationName()) {
+                tab = i;
+                break;
+            }
+        }
+        m_notificationBar.data()->setCurrentIndex(tab);
+    }
+
+    emit activate();
+    if (notification->timeout() > 0) {
+        showPopup(qMin(m_autoHideTimeout, notification->timeout()));
+    } else {
+        showPopup(m_autoHideTimeout);
+    }
+}
+
 void Applet::addJob(Job *job)
 {
     Plasma::ExtenderItem *extenderItem = new Plasma::ExtenderItem(extender());
--- workspace/plasma/generic/applets/systemtray/ui/applet.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/applets/systemtray/ui/applet.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -90,6 +90,7 @@
     void syncNotificationBarNeeded();
     void notificationDestroyed(SystemTray::Notification *notification);
     void notificationExpired(SystemTray::Notification *notification);
+    void notificationChanged(SystemTray::Notification *notification);
 
 private:
     void createJobGroups();
--- workspace/plasma/generic/applets/icon/icon.cpp	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/applets/icon/icon.cpp	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -19,6 +19,7 @@
 
 #include "icon.h"
 
+#include <QFile>
 #include <QGraphicsSceneDragDropEvent>
 #include <QGraphicsSceneMouseEvent>
 #include <QGraphicsItem>
@@ -116,9 +117,12 @@
     m_mimetype = KMimeType::findByUrl(url);
 
     delete m_watcher;
-    m_watcher = new KDirWatch;
-    m_watcher->addFile(m_url.toLocalFile());
-    connect(m_watcher, SIGNAL(deleted(const QString &)), this, SLOT(destroy()));
+    m_watcher = 0;
+    if (m_url.isLocalFile()) {
+        m_watcher = new KDirWatch;
+        m_watcher->addFile(m_url.toLocalFile());
+        connect(m_watcher, SIGNAL(deleted(const QString &)), this, SLOT(delayedDestroy()));
+    }
 
     if (m_url.isLocalFile() && KDesktopFile::isDesktopFile(m_url.toLocalFile())) {
         KDesktopFile f(m_url.toLocalFile());
@@ -162,12 +166,21 @@
         Plasma::ToolTipManager::self()->setContent(m_icon, data);
     }
 
-    if (formFactor() == Plasma::Planar || formFactor() == Plasma::MediaCenter) {
-        resize(m_icon->sizeFromIconSize(IconSize(KIconLoader::Desktop)));
-    }
     //kDebug() << "url was" << url << "and is" << m_url;
 }
 
+void IconApplet::delayedDestroy()
+{
+    QTimer::singleShot(5000, this, SLOT(checkExistenceOfUrl()));
+}
+
+void IconApplet::checkExistenceOfUrl()
+{
+    if (m_url.isLocalFile() && !QFile::exists(m_url.toLocalFile())) {
+        destroy();
+    }
+}
+
 void IconApplet::updateDesktopFile()
 {
     setUrl(m_url);
--- workspace/plasma/generic/applets/icon/icon.h	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/applets/icon/icon.h	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -60,6 +60,8 @@
     private slots:
         void acceptedPropertiesDialog();
         void propertiesDialogClosed();
+        void delayedDestroy();
+        void checkExistenceOfUrl();
 
     private:
         //dropUrls from DolphinDropController
--- workspace/plasma/generic/applets/analog-clock/plasma-applet-analogclock.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/applets/analog-clock/plasma-applet-analogclock.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -96,12 +96,14 @@
 Comment[hi]=सुई वाली घडी
 Comment[hr]=Sat s kazaljkama
 Comment[id]=Sebuah jam dengan tangan
+Comment[is]=Klukka með vísum
 Comment[it]=Un orologio con lancette
 Comment[ja]=針のある時計
 Comment[kk]=Тілді сағат
 Comment[km]=ចាក់សោ​ដោយ​ដៃ
 Comment[kn]=ಮುಳ್ಳುಗಳನ್ನು ಹೊಂದಿರುವ ಗಡಿಯಾರ
 Comment[ko]=시침과 분침이 있는 시계
+Comment[lt]=Laikrodis su rodyklėmis
 Comment[lv]=Rādītāju pulkstenis
 Comment[mk]=Часовник со раце
 Comment[nb]=En klokke med visere
--- workspace/plasma/generic/runners/solid/plasma-runner-solid.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/runners/solid/plasma-runner-solid.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -17,12 +17,14 @@
 Name[he]=התקנים
 Name[hr]=Uređaji
 Name[id]=Divais
+Name[is]=Tæki
 Name[it]=Dispositivi
 Name[ja]=デバイス
 Name[kk]=Құрылғылар
 Name[km]=ឧបករណ៍
 Name[kn]=ಸಾಧನಗಳು
 Name[ko]=장치
+Name[lt]=Įrenginiai
 Name[lv]=Ierīces
 Name[mk]=Уреди
 Name[ml]=ഉപകരണങ്ങള്‍
@@ -63,12 +65,14 @@
 Comment[he]=נהל התקנים נשלפים
 Comment[hr]=Upravlja uklonjivim uređajima
 Comment[id]=Kelola divais dapat dilepas
+Comment[is]=Sýsla með fjarlægjanleg tæki
 Comment[it]=Gestisci i dispositivi rimovibili
 Comment[ja]=リムーバブルデバイスを管理します
 Comment[kk]=Ауыстырмалы құрылғыларды басқару
 Comment[km]=គ្រប់គ្រង​ឧបករណ៍​ដែល​ចល័ត​បាន
 Comment[kn]=ತೆಗೆದು ಹಾಕಬಹುದಾದ ಸಾಧನಗಳನ್ನು ವ್ಯವಸ್ಥಾಪಿಸಿ
 Comment[ko]=이동식 장치를 관리합니다
+Comment[lt]=Prijungiamų įrenginių tvarkymas
 Comment[lv]=Pārvaldīt noņemamās iekārtas
 Comment[mk]=Ракувајте со подвижните уреди
 Comment[ml]=നീക്കം ചെയ്യാവുന്ന ഉപകരണങ്ങള്‍ നോക്കി നടത്തല്‍
--- workspace/plasma/generic/runners/windows/plasma-runner-windows.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/runners/windows/plasma-runner-windows.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -20,6 +20,7 @@
 Name[he]=חלונות
 Name[hr]=Prozori
 Name[id]=Jendela
+Name[is]=Gluggar
 Name[it]=Finestre
 Name[ja]=ウィンドウ
 Name[kk]=Терезелер
--- workspace/plasma/generic/runners/kill/plasma-runner-kill.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/runners/kill/plasma-runner-kill.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -18,12 +18,14 @@
 Name[he]=סיים פעולת יישומים
 Name[hr]=Prekini aplikacije
 Name[id]=Hentikan Aplikasi
+Name[is]=Loka forritum
 Name[it]=Termina applicazioni
 Name[ja]=アプリケーションを終了
 Name[kk]=Қолданбалары аяқтау
 Name[km]=កម្មវិធី​ស្ថានីយ
 Name[kn]=ಅನ್ವಯಗಳನ್ನು ಅಂತ್ಯಗೊಳಿಸು
 Name[ko]=프로그램 끝내기
+Name[lt]=Programų veiklos nutraukimas
 Name[lv]=Pārtraukt programmas
 Name[mk]=Запирање на апликации
 Name[ml]=പ്രയോഗങ്ങളെ ഇല്ലാതാക്കുക
@@ -67,12 +69,14 @@
 Comment[he]=עצור יישומים פעילים כעת
 Comment[hr]=Zaustavi aplikacije koje su trenutno pokrenute
 Comment[id]=Stop aplikasi yang saat ini tengah berjalan
+Comment[is]=Stöðva forrit sem eru keyrandi
 Comment[it]=Ferma le applicazioni attualmente in esecuzione
 Comment[ja]=実行中のアプリケーションを停止します
 Comment[kk]=Орындалып жатқан қолданбаларды тоқтату
 Comment[km]=បញ្ឈប់​កម្មវិធី​ដែលបច្ចុប្បន្ន​កំពុង​តែ​រត់
 Comment[kn]=ಪ್ರಸ್ತುತ ಚಾಲನೆಯಲ್ಲಿರುವ ಅನ್ವಯಗಳನ್ನು ನಿಲ್ಲಿಸು
 Comment[ko]=현재 실행 중인 프로그램을 끝냅니다
+Comment[lt]=Sustabdo programas, kurios šiuo metu veikia
 Comment[lv]=Apturēt šobrīd darbojošās programmas
 Comment[mk]=Ги запира апликациите што моментално се активни
 Comment[ml]=ഇപ്പോള്‍ പ്രവര്‍ത്തിയ്ക്കുന്ന പ്രയോഗങ്ങള്‍ നിര്‍ത്തുക
--- workspace/plasma/generic/runners/kill/plasma-runner-kill_config.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/runners/kill/plasma-runner-kill_config.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -25,12 +25,14 @@
 Name[he]=חסל יישומים
 Name[hr]=Uništi aplikacije
 Name[id]=Matikan Aplikasi
+Name[is]=Drepa forrit
 Name[it]=Termina applicazioni
 Name[ja]=アプリケーションを強制終了
 Name[kk]=Қолданбалары құрту
 Name[km]=បញ្ឈប់​កម្មវិធី
 Name[kn]=ಅನ್ವಯಗಳನ್ನು ಅಂತ್ಯಗೊಳಿಸು
 Name[ko]=프로그램 죽이기
+Name[lt]=Programų „nužudymas“
 Name[lv]=Nokaut programmas
 Name[mk]=Запирање на апликации
 Name[ml]=പ്രയോഗങ്ങളെ കൊല്ലുക
--- workspace/plasma/generic/runners/locations/plasma-runner-locations.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/runners/locations/plasma-runner-locations.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -99,7 +99,7 @@
 Comment[hr]=Otvarač datoteka u URL-a
 Comment[hu]=Fájlmegnyitó
 Comment[id]=Pembuka Berkas dan URL
-Comment[is]=Skráa og slóða opnun
+Comment[is]=Skráa- og slóðaopnun
 Comment[it]=Apertura di file e URL
 Comment[ja]=ファイルと URL を開きます
 Comment[kk]=Файл мен URL ашқышы
--- workspace/plasma/generic/scriptengines/python/plasma-scriptengine-wallpaper-python.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/scriptengines/python/plasma-scriptengine-wallpaper-python.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -16,11 +16,13 @@
 Name[he]=רקע של Python
 Name[hr]=Python podloga
 Name[id]=Wallpaper Python
+Name[is]=Python veggfóður
 Name[it]=Sfondo per Python
 Name[kk]=Python тұсқағазы
 Name[km]=ផ្ទាំង​រូបភាព​របស់ Python
 Name[kn]=ಪೈಥಾನ್ ಹಿನ್ನೆಲೆ ತೆರೆಚಿತ್ರ (ವಾಲ್ ಪೇಪರ್)
 Name[ko]=파이썬 배경 그림
+Name[lt]=Python darbalaukio fonas
 Name[lv]=Python ekrāntapete
 Name[ml]=പൈത്തണ്‍ ചുവര്‍ചിത്രം
 Name[nb]=Python bakgrunnsbilde
@@ -60,11 +62,13 @@
 Comment[he]=תמיכה ברקע Plasma לפייתון
 Comment[hr]=Plasmina podloga koja podržava Python
 Comment[id]=Wallpeper Plasma yang mendukung Python
+Comment[is]=Plasma veggfóðurstuðningur fyrir Python
 Comment[it]=Supporto per lo sfondo di Plasma per Python
 Comment[kk]=Plasma-дағы Python тұсқағазының қолдауы
 Comment[km]=ការ​គាំទ្រ​​ផ្ទាំង​​រូបភាព​ប្លាស្មា​សម្រាប់ Python
 Comment[kn]=ಪೈಥಾನ್‌ಗಾಗಿ ಪ್ಲಾಸ್ಮಾ ಗಣಕತೆರೆ ಹಿನ್ನೆಲೆ ಚಿತ್ರ ಬೆಂಬಲ
 Comment[ko]=파이썬을 위한 Plasma 배경 그림 지원
+Comment[lt]=Python skirtas plazmos apmušalų palaikymas
 Comment[lv]=Plasma ekrāntapetes atbalsts Python
 Comment[ml]=പൈത്തിണിനുള്ള പ്ലാസ്മ ചുമര്‍ച്ചിത്ര പിന്തുണ
 Comment[nb]=Plasma bakgrunnsbilde-støtte for Python
--- workspace/plasma/generic/scriptengines/python/plasma-scriptengine-runner-python.desktop	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/scriptengines/python/plasma-scriptengine-runner-python.desktop	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -13,9 +13,11 @@
 Name[fr]=Lanceur Python
 Name[hr]=Python Runner
 Name[id]=Pelari Python
+Name[is]=Python keyrari
 Name[it]=Esecutore per Python
 Name[kk]=Python-ды жегу
 Name[km]=កម្មវិធី​រត់ Python
+Name[lt]=Python bėgtukas
 Name[lv]=Python darbinātājs
 Name[nb]=Python-kjører
 Name[nds]=Python-Dreger
@@ -51,9 +53,11 @@
 Comment[fr]=Prise en charge du lanceur Python
 Comment[hr]=Plasma Runner podrška za Python
 Comment[id]=Dukungan Pelari Plasma terhadap Python
+Comment[is]=Plasma gagnavélarstuðningur fyrir Python
 Comment[it]=Supporto per l'esecutore Plasma per Python
 Comment[kk]=Plasma-дағы Python-ды жегуін қолдауы
 Comment[km]=ការ​គាំទ្រ​កម្មវិធី​រត់​ប្លាស្មា​សម្រាប់ Python
+Comment[lt]=Plasma bėgtukas, palaikantis Python
 Comment[lv]=Plasma darbinātāja atbalsts Python
 Comment[nb]=Plasma kjørerstøtte for Python
 Comment[nds]=Plasma-Dregerünnerstütten för Python
--- workspace/plasma/generic/scriptengines/python/pyrunner.py	(.../tags/KDE/4.4.1/kdebase)	(wersja 1104125)
+++ workspace/plasma/generic/scriptengines/python/pyrunner.py	(.../branches/KDE/4.4/kdebase)	(wersja 1104125)
@@ -47,7 +47,9 @@
             relpath = relpath[:-3]
         relpath = relpath.replace("/",".")
         self.module = __import__(self.pluginName+'.'+relpath)
-        self.pyrunner = self.module.main.CreateRunner(None)
+        basename = os.path.basename(str(self.mainScript()))
+        basename = os.path.splitext(basename)[0]
+        self.pyrunner = self.module.__dict__[basename].CreateRunner(None)
         self.pyrunner.setRunner(self.runner())
         self.pyrunner.setRunnerScript(self)
         self.connect(self, SIGNAL('prepare()'), self, SLOT('prepare()'))
