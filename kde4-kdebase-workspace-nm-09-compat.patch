diff -ur kdebase-workspace-4.6.3/solid/CMakeLists.txt kdebase-workspace-4.6.3-nm-09-compat/solid/CMakeLists.txt
--- kdebase-workspace-4.6.3/solid/CMakeLists.txt	2011-04-28 15:14:59.000000000 +0200
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/CMakeLists.txt	2011-05-08 22:19:40.000000000 +0200
@@ -17,7 +17,7 @@
     add_subdirectory(networkmanager-0.6)
   endif (NM_0_6)
 
-  macro_ensure_version_range("0.7.0" ${NETWORKMANAGER_VERSION} "0.8.10" NM_0_7)
+  macro_ensure_version("0.7.0" ${NETWORKMANAGER_VERSION} NM_0_7)
   if (NM_0_7)
     message(STATUS "Will build networkmanager-0.7")
     set(HAVE_NETWORKMANAGER TRUE)
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-active-connection.xml kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-active-connection.xml
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-active-connection.xml	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-active-connection.xml	2011-05-08 22:19:16.000000000 +0200
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" ?>
 
 <node name="/" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
-  <interface name="org.freedesktop.NetworkManager.Connection.Active">
+  <interface name="org.freedesktop.NetworkManagerCompat.Connection.Active">
     <property name="ServiceName" type="s" access="read">
       <tp:docstring>The D-Bus service name providing this connection.</tp:docstring>
     </property>
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-device-ethernet.xml kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-device-ethernet.xml
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-device-ethernet.xml	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-device-ethernet.xml	2011-05-08 22:19:16.000000000 +0200
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" ?>
 
 <node name="/" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
-  <interface name="org.freedesktop.NetworkManager.Device.Wired">
+  <interface name="org.freedesktop.NetworkManagerCompat.Device.Wired">
 
     <property name="HwAddress" type="s" access="read">
       <tp:docstring>
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-device-wifi.xml kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-device-wifi.xml
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-device-wifi.xml	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-device-wifi.xml	2011-05-08 22:19:16.000000000 +0200
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" ?>
 
 <node name="/" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
-  <interface name="org.freedesktop.NetworkManager.Device.Wireless">
+  <interface name="org.freedesktop.NetworkManagerCompat.Device.Wireless">
     <method name="GetAccessPoints">
       <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_device_get_access_points"/>
       <arg name="access_points" type="ao" direction="out">
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-device.xml kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-device.xml
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-device.xml	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-device.xml	2011-05-08 22:19:16.000000000 +0200
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" ?>
 
 <node name="/" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
-  <interface name="org.freedesktop.NetworkManager.Device">
+  <interface name="org.freedesktop.NetworkManagerCompat.Device">
     <property name="Udi" type="s" access="read">
       <tp:docstring>
         Unique Device Identifier.
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-exported-connection.xml kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-exported-connection.xml
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-exported-connection.xml	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-exported-connection.xml	2011-05-08 22:19:16.000000000 +0200
@@ -2,7 +2,7 @@
 
 <node name="/" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
 
-    <interface name="org.freedesktop.NetworkManagerSettings.Connection">
+    <interface name="org.freedesktop.NetworkManager.Settings.Connection">
         <tp:docstring>
             Represents a single network connection configuration.
         </tp:docstring>
@@ -59,7 +59,7 @@
 
     </interface>
 
-    <interface name="org.freedesktop.NetworkManagerSettings.Connection.Secrets">
+    <interface name="org.freedesktop.NetworkManager.Settings.Connection.Secrets">
         <tp:docstring>
             Secrets have a separate interface so that they can be locked down.
         </tp:docstring>
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-manager-client.xml kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-manager-client.xml
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-manager-client.xml	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-manager-client.xml	2011-05-08 22:19:16.000000000 +0200
@@ -13,7 +13,7 @@
 -->
 
 <node name="/">
-  <interface name="org.freedesktop.NetworkManager">
+  <interface name="org.freedesktop.NetworkManagerCompat">
     <method name="GetDevices">
       <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_manager_get_devices"/>
       <arg name="devices" type="ao" direction="out"/>
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-manager.xml kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-manager.xml
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-manager.xml	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-manager.xml	2011-05-08 22:19:16.000000000 +0200
@@ -8,7 +8,7 @@
 -->
 
 <node name="/" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
-  <interface name="org.freedesktop.NetworkManager">
+  <interface name="org.freedesktop.NetworkManagerCompat">
     <method name="GetDevices">
       <tp:docstring>
         Get the list of network devices.
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-settings-connection.xml kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-settings-connection.xml
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-settings-connection.xml	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-settings-connection.xml	2011-05-08 22:19:16.000000000 +0200
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE node PUBLIC "-//freedesktop//DTD D-BUS Object Introspection 1.0//EN" "http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
 <node  name="/">
-  <interface name="org.freedesktop.NetworkManagerSettings.Connection">
+  <interface name="org.freedesktop.NetworkManager.Settings.Connection">
     <method name="GetID">
       <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_connection_settings_get_id"/>
       <arg name="id" type="s" direction="out"/>
@@ -17,7 +17,7 @@
     </signal>
     <signal name="Removed"/>
   </interface>
-  <interface name="org.freedesktop.NetworkManagerSettings.Connection.Secrets">
+  <interface name="org.freedesktop.NetworkManager.Settings.Connection.Secrets">
     <method name="GetSecrets">
       <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="impl_connection_settings_get_secrets"/>
       <annotation name="org.freedesktop.DBus.GLib.Async" value=""/>
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-settings.xml kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-settings.xml
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-settings.xml	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-settings.xml	2011-05-08 22:19:16.000000000 +0200
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" ?>
 
 <node name="/" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
-  <interface name="org.freedesktop.NetworkManagerSettings">
+  <interface name="org.freedesktop.NetworkManager.Settings">
     <tp:docstring>
       The NetworkManagerSettings interface is provided by the service which provides connections to NetworkManager.
     </tp:docstring>
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-vpn-connection.xml kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-vpn-connection.xml
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/introspection/nm-vpn-connection.xml	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/introspection/nm-vpn-connection.xml	2011-05-08 22:19:16.000000000 +0200
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8" ?>
 
 <node name="/" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
-  <interface name="org.freedesktop.NetworkManager.Connection.Active">
+  <interface name="org.freedesktop.NetworkManagerCompat.Connection.Active">
     <property name="ServiceName" type="s" access="read">
       <tp:docstring>The D-Bus service name providing this connection.</tp:docstring>
     </property>
@@ -22,7 +22,7 @@
     </property>
   </interface>
 
-  <interface name="org.freedesktop.NetworkManager.VPN.Connection">
+  <interface name="org.freedesktop.NetworkManagerCompat.VPN.Connection">
     <tp:docstring>
       Represents an active connection to a Virtual Private Network.
     </tp:docstring>
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-device-ethernetinterface.h kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-device-ethernetinterface.h
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-device-ethernetinterface.h	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-device-ethernetinterface.h	2011-05-08 22:19:16.000000000 +0200
@@ -28,7 +28,7 @@
     Q_OBJECT
 public:
     static inline const char *staticInterfaceName()
-    { return "org.freedesktop.NetworkManager.Device.Wired"; }
+    { return "org.freedesktop.NetworkManagerCompat.Device.Wired"; }
 
 public:
     OrgFreedesktopNetworkManagerDeviceWiredInterface(const QString &service, const QString &path, const QDBusConnection &connection, QObject *parent = 0);
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-deviceinterface.h kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-deviceinterface.h
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-deviceinterface.h	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-deviceinterface.h	2011-05-08 22:19:16.000000000 +0200
@@ -28,7 +28,7 @@
     Q_OBJECT
 public:
     static inline const char *staticInterfaceName()
-    { return "org.freedesktop.NetworkManager.Device"; }
+    { return "org.freedesktop.NetworkManagerCompat.Device"; }
 
 public:
     OrgFreedesktopNetworkManagerDeviceInterface(const QString &service, const QString &path, const QDBusConnection &connection, QObject *parent = 0);
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-device-wifiinterface.h kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-device-wifiinterface.h
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-device-wifiinterface.h	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-device-wifiinterface.h	2011-05-08 22:19:16.000000000 +0200
@@ -28,7 +28,7 @@
     Q_OBJECT
 public:
     static inline const char *staticInterfaceName()
-    { return "org.freedesktop.NetworkManager.Device.Wireless"; }
+    { return "org.freedesktop.NetworkManagerCompat.Device.Wireless"; }
 
 public:
     OrgFreedesktopNetworkManagerDeviceWirelessInterface(const QString &service, const QString &path, const QDBusConnection &connection, QObject *parent = 0);
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-exported-connectioninterface.h kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-exported-connectioninterface.h
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-exported-connectioninterface.h	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-exported-connectioninterface.h	2011-05-08 22:19:16.000000000 +0200
@@ -31,7 +31,7 @@
     Q_OBJECT
 public:
     static inline const char *staticInterfaceName()
-    { return "org.freedesktop.NetworkManagerSettings.Connection"; }
+    { return "org.freedesktop.NetworkManager.Settings.Connection"; }
 
 public:
     OrgFreedesktopNetworkManagerSettingsConnectionInterface(const QString &service, const QString &path, const QDBusConnection &connection, QObject *parent = 0);
@@ -64,7 +64,7 @@
     Q_OBJECT
 public:
     static inline const char *staticInterfaceName()
-    { return "org.freedesktop.NetworkManagerSettings.Connection.Secrets"; }
+    { return "org.freedesktop.NetworkManager.Settings.Connection.Secrets"; }
 
 public:
     OrgFreedesktopNetworkManagerSettingsConnectionSecretsInterface(const QString &service, const QString &path, const QDBusConnection &connection, QObject *parent = 0);
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-manager-clientinterface.h kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-manager-clientinterface.h
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-manager-clientinterface.h	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-manager-clientinterface.h	2011-05-08 22:19:16.000000000 +0200
@@ -28,7 +28,7 @@
     Q_OBJECT
 public:
     static inline const char *staticInterfaceName()
-    { return "org.freedesktop.NetworkManager"; }
+    { return "org.freedesktop.NetworkManagerCompat"; }
 
 public:
     OrgFreedesktopNetworkManagerInterface(const QString &service, const QString &path, const QDBusConnection &connection, QObject *parent = 0);
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-vpn-connectioninterface.h kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-vpn-connectioninterface.h
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/dbus/nm-vpn-connectioninterface.h	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/dbus/nm-vpn-connectioninterface.h	2011-05-08 22:19:16.000000000 +0200
@@ -28,7 +28,7 @@
     Q_OBJECT
 public:
     static inline const char *staticInterfaceName()
-    { return "org.freedesktop.NetworkManager.VPN.Connection"; }
+    { return "org.freedesktop.NetworkManagerCompat.VPN.Connection"; }
 
 public:
     OrgFreedesktopNetworkManagerVPNConnectionInterface(const QString &service, const QString &path, const QDBusConnection &connection, QObject *parent = 0);
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/manager.cpp kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/manager.cpp
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/manager.cpp	2011-04-01 12:52:43.000000000 +0200
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/manager.cpp	2011-05-08 22:19:16.000000000 +0200
@@ -21,7 +21,6 @@
 #include "manager_p.h"
 
 #include <KDebug>
-#include <NetworkManager.h>
 
 #include "dbus/nm-deviceinterface.h"
 #include "networkmanagerdefinitions.h"
@@ -31,12 +30,12 @@
 #include "networkcdmainterface.h"
 
 const QString NMNetworkManager::DBUS_SERVICE(QString::fromLatin1("org.freedesktop.NetworkManager"));
-const QString NMNetworkManager::DBUS_DAEMON_PATH(QString::fromLatin1("/org/freedesktop/NetworkManager"));
+const QString NMNetworkManager::DBUS_DAEMON_PATH(QString::fromLatin1("/org/freedesktop/NetworkManagerCompat"));
 const QString NMNetworkManager::DBUS_USER_SETTINGS_PATH(QString::fromLatin1("org.freedesktop.NetworkManagerUserSettings"));
 const QString NMNetworkManager::DBUS_SYSTEM_SETTINGS_PATH(QString::fromLatin1("org.freedesktop.NetworkManagerSystemSettings"));
 
 
-NMNetworkManagerPrivate::NMNetworkManagerPrivate() : iface(NMNetworkManager::DBUS_SERVICE, "/org/freedesktop/NetworkManager", QDBusConnection::systemBus())
+NMNetworkManagerPrivate::NMNetworkManagerPrivate() : iface(NMNetworkManager::DBUS_SERVICE, "/org/freedesktop/NetworkManagerCompat", QDBusConnection::systemBus())
 {
     kDebug(1441) << NMNetworkManager::DBUS_SERVICE;
 }
@@ -118,16 +117,16 @@
     uint deviceType = devIface.deviceType();
     NMNetworkInterface * createdInterface = 0;
     switch ( deviceType ) {
-        case DEVICE_TYPE_802_3_ETHERNET:
+        case NM_DEVICE_TYPE_ETHERNET:
             createdInterface = new NMWiredNetworkInterface(uni, this, 0); // these are deleted by the frontend manager
             break;
-        case DEVICE_TYPE_802_11_WIRELESS:
+        case NM_DEVICE_TYPE_WIFI:
             createdInterface = new NMWirelessNetworkInterface(uni, this, 0);
             break;
-        case DEVICE_TYPE_GSM:
+        case NM_DEVICE_TYPE_GSM:
             createdInterface = new NMGsmNetworkInterface(uni, this, 0);
             break;
-        case DEVICE_TYPE_CDMA:
+        case NM_DEVICE_TYPE_CDMA:
             createdInterface = new NMCdmaNetworkInterface(uni, this, 0);
             break;
             /*
diff -ur kdebase-workspace-4.6.3/solid/networkmanager-0.7/manager.h kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/manager.h
--- kdebase-workspace-4.6.3/solid/networkmanager-0.7/manager.h	2011-02-25 22:54:49.000000000 +0100
+++ kdebase-workspace-4.6.3-nm-09-compat/solid/networkmanager-0.7/manager.h	2011-05-08 22:19:16.000000000 +0200
@@ -25,6 +25,27 @@
 #include <QDBusObjectPath>
 #include <kdemacros.h>
 
+// for 0.8 compatibility reason
+typedef enum NMState
+{
+    NM_STATE_UNKNOWN = 0,
+    NM_STATE_ASLEEP,
+    NM_STATE_CONNECTING,
+    NM_STATE_CONNECTED,
+    NM_STATE_DISCONNECTED
+} NMState;
+
+typedef enum NMDeviceType
+{
+    NM_DEVICE_TYPE_UNKNOWN = 0,
+    NM_DEVICE_TYPE_ETHERNET,
+    NM_DEVICE_TYPE_WIFI,
+    NM_DEVICE_TYPE_GSM,
+    NM_DEVICE_TYPE_CDMA,
+    NM_DEVICE_TYPE_BT,  /* Bluetooth */
+    NM_DEVICE_TYPE_OLPC_MESH
+} NMDeviceType;
+
 class NMNetworkInterface;
 class NMNetworkManagerPrivate;
 
